{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"eSign SDK v2.1.0 - Documentation Package","text":"<p>Complete Technical Documentation for Client Delivery</p>"},{"location":"#documentation-overview","title":"Documentation Overview","text":"<p>This package contains comprehensive technical documentation for the eSign SDK v2.1.0 - a Java-based server application for digital signature integration using India's eSign infrastructure.</p>"},{"location":"#document-list","title":"Document List","text":""},{"location":"#1-main-technical-documentation","title":"1. Main Technical Documentation","text":""},{"location":"#esign-sdk-technical-documentationmd-part-1","title":"eSign-sdk-technical-documentation.md (Part 1)","text":"<p>Sections 1-7: Executive Summary, System Overview, Architecture, Requirements, Installation, Configuration, API Overview</p> <p>Contents: - Executive summary and product overview - System architecture with diagrams - System requirements (hardware, software, OS support) - Complete installation guide for Windows/Linux/macOS/Docker - Configuration reference with all properties explained - API endpoints summary</p> <p>Target Audience: System administrators, DevOps engineers, technical decision makers</p>"},{"location":"#esign-sdk-technical-documentation-part2md-part-2","title":"eSign-sdk-technical-documentation-part2.md (Part 2)","text":"<p>Sections 7-11: Detailed API Reference, Usage Guide, Security, Troubleshooting, Appendices</p> <p>Contents: - Detailed API documentation for all 18 endpoints - Complete request/response examples - Usage workflows for eSign 2.1 and 3.2 - Code examples in cURL, JavaScript, Python, Java - Security and compliance guidelines - Troubleshooting guide with solutions - Glossary and reference materials</p> <p>Target Audience: Developers, integration engineers, security teams</p>"},{"location":"#2-quick-reference-documents","title":"2. Quick Reference Documents","text":""},{"location":"#quick-start-guidemd","title":"quick-start-guide.md","text":"<p>Get started in 5 minutes</p> <p>Contents: - Prerequisites checklist - 5-step installation process - First signing test (Web UI and API) - Quick troubleshooting tips - Common commands</p> <p>Target Audience: Developers evaluating the SDK, new users</p>"},{"location":"#api-reference-cardmd","title":"api-reference-card.md","text":"<p>Single-page API cheat sheet</p> <p>Contents: - All 18 API endpoints with URLs - Request/response formats - Complete workflow example - Quick tips and mode differences</p> <p>Target Audience: Developers during integration (printable reference)</p>"},{"location":"#deployment-checklistmd","title":"deployment-checklist.md","text":"<p>Production deployment guide</p> <p>Contents: - Pre-deployment checklist - Step-by-step deployment for Linux and Windows - Security hardening procedures - Monitoring and backup setup - Go-live checklist - Rollback procedures</p> <p>Target Audience: System administrators, DevOps engineers, project managers</p>"},{"location":"#3-additional-documents","title":"3. Additional Documents","text":""},{"location":"#android_compatibility_reportmd","title":"android_compatibility_report.md","text":"<p>Android compatibility analysis</p> <p>Contents: - Compatibility assessment (not Android compatible) - Technical reasons and dependencies - Two solution approaches (rewrite vs client-server) - Recommendations</p> <p>Target Audience: Mobile development teams, architects</p>"},{"location":"#document-map","title":"Document Map","text":"<p>Use this guide to find the right document for your needs:</p> Your Goal Recommended Document Understand the product Main Technical Documentation (Part 1) - Sections 1-2 Evaluate system requirements Main Technical Documentation (Part 1) - Section 4 Install for testing Quick Start Guide Install for production Main Technical Documentation (Part 1) - Section 5 + Deployment Checklist Configure the application Main Technical Documentation (Part 1) - Section 6 Integrate via API API Reference Card + Part 2 - Section 7 Write integration code Main Technical Documentation (Part 2) - Section 8 Understand security Main Technical Documentation (Part 2) - Section 9 Troubleshoot issues Main Technical Documentation (Part 2) - Section 10 Deploy to production Deployment Checklist Quick API lookup API Reference Card Mobile integration android_compatibility_report.md"},{"location":"#recommended-reading-order","title":"Recommended Reading Order","text":""},{"location":"#for-system-administrators","title":"For System Administrators:","text":"<ol> <li>Quick Start Guide (get familiar)</li> <li>Main Technical Documentation Part 1 - Sections 4-6 (requirements, installation, configuration)</li> <li>Deployment Checklist (production deployment)</li> <li>Main Technical Documentation Part 2 - Section 10 (troubleshooting)</li> </ol>"},{"location":"#for-developers","title":"For Developers:","text":"<ol> <li>Quick Start Guide (get started quickly)</li> <li>API Reference Card (quick reference)</li> <li>Main Technical Documentation Part 2 - Sections 7-8 (API details, usage examples)</li> <li>Main Technical Documentation Part 1 - Section 3 (architecture understanding)</li> </ol>"},{"location":"#for-project-managers","title":"For Project Managers:","text":"<ol> <li>Main Technical Documentation Part 1 - Sections 1-2 (overview)</li> <li>Main Technical Documentation Part 1 - Section 4 (requirements)</li> <li>Deployment Checklist (deployment planning)</li> <li>Main Technical Documentation Part 2 - Section 9 (security compliance)</li> </ol>"},{"location":"#for-security-teams","title":"For Security Teams:","text":"<ol> <li>Main Technical Documentation Part 1 - Section 3.3 (security architecture)</li> <li>Main Technical Documentation Part 2 - Section 9 (security &amp; compliance)</li> <li>Deployment Checklist - Security Hardening section</li> </ol>"},{"location":"#key-features-documented","title":"Key Features Documented","text":"<ul> <li>Dual Mode Support: eSign 2.1 (OTP) and eSign 3.2 (eKYC)  </li> <li>Complete API Reference: All 18 endpoints with examples  </li> <li>Multi-Platform Installation: Windows, Linux, macOS, Docker  </li> <li>Code Examples: cURL, JavaScript, Python, Java  </li> <li>Production Deployment: Complete checklist and procedures  </li> <li>Security Guidelines: Compliance and best practices  </li> <li>Troubleshooting: Common issues and solutions  </li> </ul>"},{"location":"#technical-specifications","title":"Technical Specifications","text":"Specification Details Version 2.1.0 Platform Java 17, Spring Boot 3.2.0 Server Embedded Apache Tomcat API Style RESTful JSON Supported OS Windows, Linux, macOS eSign Versions 2.1 (OTP-based), 3.2 (eKYC-based) PDF Library iText 7.2.5 Cryptography Bouncy Castle 1.77"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li>Installation: Quick Start Guide</li> <li>API Reference: API Reference Card</li> <li>Full Documentation: Technical Documentation Part 1 | Part 2</li> <li>Deployment: Deployment Checklist</li> <li>Android: Compatibility Report</li> </ul>"},{"location":"#support","title":"Support","text":"<p>Technical Support: - Email: support@esign.network - Phone: +91-XXX-XXX-XXXX - Website: https://www.esign.network/</p> <p>Documentation Feedback: If you find any issues or have suggestions for improving this documentation, please contact us.</p>"},{"location":"#document-information","title":"Document Information","text":"Property Value Document Package Version 1.0 Release Date December 2025 Author Capricorn Identity Service Last Updated 2025-12-15 Total Pages ~100+ pages Format Markdown (.md)"},{"location":"#documentation-completeness","title":"Documentation Completeness","text":"<p>This documentation package includes:</p> <ul> <li>Executive summary and product overview</li> <li>Complete system architecture with diagrams</li> <li>Hardware and software requirements</li> <li>Installation guides for all supported platforms</li> <li>Configuration reference (all properties)</li> <li>Complete API documentation (all 18 endpoints)</li> <li>Request/response examples for every endpoint</li> <li>Code examples in 4 languages (cURL, JavaScript, Python, Java)</li> <li>Step-by-step usage workflows</li> <li>Security and compliance guidelines</li> <li>Troubleshooting guide</li> <li>Production deployment procedures</li> <li>Quick start guide</li> <li>API reference card</li> <li>Deployment checklist</li> <li>Glossary and appendices</li> </ul>"},{"location":"#package-contents","title":"Package Contents","text":"<pre><code>Documentation_Package/\n\u251c\u2500\u2500 README.md (this file)\n\u251c\u2500\u2500 eSign-sdk-technical-documentation.md (Part 1)\n\u251c\u2500\u2500 eSign-sdk-technical-documentation-part2.md (Part 2)\n\u251c\u2500\u2500 quick-start-guide.md\n\u251c\u2500\u2500 api-reference-card.md\n\u251c\u2500\u2500 deployment-checklist.md\n\u2514\u2500\u2500 android_compatibility_report.md\n</code></pre>"},{"location":"#training-resources","title":"Training Resources","text":"<p>Recommended Training Path:</p> <ol> <li>Day 1: Read Quick Start Guide, install and test</li> <li>Day 2: Review API Reference Card, test API endpoints</li> <li>Day 3: Study Main Documentation Part 2 (API details)</li> <li>Day 4: Review security guidelines and best practices</li> <li>Day 5: Plan production deployment using checklist</li> </ol>"},{"location":"#license","title":"License","text":"<p>\u00a9 2025 Capricorn Technologies. All rights reserved.</p> <p>This documentation is proprietary and confidential. Unauthorized copying, distribution, or use is strictly prohibited.</p> <p>Ready to get started? Begin with the Quick Start Guide!</p>"},{"location":"api-reference-card/","title":"eSign SDK v2.1.0 - API Reference Card","text":"<p>Quick Reference for All API Endpoints</p> <p>Base URL: <code>http://localhost:8080/api/esign</code></p>"},{"location":"api-reference-card/#configuration-endpoints","title":"Configuration Endpoints","text":""},{"location":"api-reference-card/#set-esign-mode","title":"Set eSign Mode","text":"<pre><code>POST /set-mode\nBody: {\"mode\": \"2.1\" | \"3.2\"}\nResponse: {\"success\": true, \"mode\": \"2.1\", \"modeName\": \"OTP-based Signing\"}\n</code></pre>"},{"location":"api-reference-card/#get-configuration","title":"Get Configuration","text":"<pre><code>GET /config\nResponse: {\"success\": true, \"config\": {...}}\n</code></pre>"},{"location":"api-reference-card/#reset-session","title":"Reset Session","text":"<pre><code>POST /reset\nResponse: {\"success\": true, \"message\": \"Session reset successfully\"}\n</code></pre>"},{"location":"api-reference-card/#signing-workflow-endpoints","title":"Signing Workflow Endpoints","text":""},{"location":"api-reference-card/#step-1-upload-pdf","title":"Step 1: Upload PDF","text":"<pre><code>POST /step1/upload\nContent-Type: multipart/form-data\nBody: file=@document.pdf\nResponse: {\"success\": true, \"step\": 1, \"fileName\": \"...\", \"documentId\": \"...\"}\n</code></pre>"},{"location":"api-reference-card/#step-2-set-signer-details","title":"Step 2: Set Signer Details","text":"<pre><code>POST /step2/signer-details\nBody: {\n  \"signerName\": \"John Doe\",\n  \"docInfo\": \"Contract\",\n  \"pageNo\": 1,\n  \"x1\": 350, \"y1\": 50, \"x2\": 550, \"y2\": 120\n}\nResponse: {\"success\": true, \"step\": 2}\n</code></pre>"},{"location":"api-reference-card/#step-3-generate-hash","title":"Step 3: Generate Hash","text":"<pre><code>POST /step3/generate-hash\nResponse: {\"success\": true, \"step\": 3, \"hashAlgorithm\": \"SHA-256\"}\n</code></pre>"},{"location":"api-reference-card/#step-4-convert-to-hex","title":"Step 4: Convert to Hex","text":"<pre><code>POST /step4/convert-hex\nResponse: {\"success\": true, \"step\": 4, \"hashHex\": \"...\"}\n</code></pre>"},{"location":"api-reference-card/#step-5-generate-transaction-id","title":"Step 5: Generate Transaction ID","text":"<pre><code>POST /step5/generate-txn\nResponse: {\"success\": true, \"step\": 5, \"transactionId\": \"UKC:public:...\"}\n</code></pre>"},{"location":"api-reference-card/#step-6-construct-xml","title":"Step 6: Construct XML","text":"<pre><code>POST /step6/construct-xml\nResponse: {\"success\": true, \"step\": 6, \"xmlPreview\": \"...\"}\n</code></pre>"},{"location":"api-reference-card/#step-7-sign-xml","title":"Step 7: Sign XML","text":"<pre><code>POST /step7/sign-xml\nResponse: {\"success\": true, \"step\": 7, \"signatureAlgorithm\": \"RSA-SHA256\"}\n</code></pre>"},{"location":"api-reference-card/#step-8-generate-esp-form","title":"Step 8: Generate ESP Form","text":"<pre><code>POST /step8/generate-esp-form\nResponse: {\"success\": true, \"step\": 8, \"htmlForm\": \"...\", \"espUrl\": \"...\"}\n</code></pre>"},{"location":"api-reference-card/#step-9-embed-signature","title":"Step 9: Embed Signature","text":"<pre><code>POST /step9/embed-signature\nBody: {\"outputFileName\": \"signed.pdf\"}\nResponse: {\"success\": true, \"step\": 9, \"signedPdfPath\": \"...\"}\n</code></pre>"},{"location":"api-reference-card/#esp-callback-endpoints","title":"ESP Callback Endpoints","text":""},{"location":"api-reference-card/#esp-response-esign-21","title":"ESP Response (eSign 2.1)","text":"<pre><code>POST /esp-response\nBody: esignresp=&lt;XML response&gt;\nResponse: HTML page\n</code></pre>"},{"location":"api-reference-card/#esp-getdocs-esign-32","title":"ESP GetDocs (eSign 3.2)","text":"<pre><code>POST /3.2/getdocs/\nBody: eSignResponse=&lt;XML response&gt;\nResponse: \"OK\"\n</code></pre>"},{"location":"api-reference-card/#esp-callback-esign-32","title":"ESP Callback (eSign 3.2)","text":"<pre><code>GET/POST /3.2/callback/\nQuery: txnRef=&lt;base64&gt;, status=&lt;status&gt;\nResponse: HTML page\n</code></pre>"},{"location":"api-reference-card/#utility-endpoints","title":"Utility Endpoints","text":""},{"location":"api-reference-card/#serve-pdf-document","title":"Serve PDF Document","text":"<pre><code>GET /documents/{documentId}.pdf\nResponse: PDF file (application/pdf)\n</code></pre>"},{"location":"api-reference-card/#get-esp-response-data","title":"Get ESP Response Data","text":"<pre><code>GET /esp-response-data\nResponse: {\"success\": true, \"espResponseReceived\": true, \"responseXml\": \"...\"}\n</code></pre>"},{"location":"api-reference-card/#embed-signature-manual","title":"Embed Signature (Manual)","text":"<pre><code>POST /embed-signature\nBody: {\"transactionId\": \"UKC:public:...\"}\nResponse: {\"success\": true, \"signedPdfPath\": \"...\"}\n</code></pre>"},{"location":"api-reference-card/#complete-workflow-example","title":"Complete Workflow Example","text":"<pre><code># Set mode\ncurl -X POST http://localhost:8080/api/esign/set-mode \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"mode\":\"2.1\"}'\n\n# Upload PDF\ncurl -X POST http://localhost:8080/api/esign/step1/upload \\\n  -F \"file=@document.pdf\"\n\n# Set signer details\ncurl -X POST http://localhost:8080/api/esign/step2/signer-details \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"signerName\":\"John Doe\",\"docInfo\":\"Contract\"}'\n\n# Execute steps 3-8\ncurl -X POST http://localhost:8080/api/esign/step3/generate-hash\ncurl -X POST http://localhost:8080/api/esign/step4/convert-hex\ncurl -X POST http://localhost:8080/api/esign/step5/generate-txn\ncurl -X POST http://localhost:8080/api/esign/step6/construct-xml\ncurl -X POST http://localhost:8080/api/esign/step7/sign-xml\ncurl -X POST http://localhost:8080/api/esign/step8/generate-esp-form\n\n# After ESP signing, embed signature\ncurl -X POST http://localhost:8080/api/esign/step9/embed-signature \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"outputFileName\":\"signed.pdf\"}'\n</code></pre>"},{"location":"api-reference-card/#error-responses","title":"Error Responses","text":"<p>All endpoints return errors in this format: <pre><code>{\n  \"success\": false,\n  \"error\": \"Error message description\"\n}\n</code></pre></p> <p>Common HTTP Status Codes: - <code>200</code> - Success - <code>400</code> - Bad Request (invalid parameters) - <code>404</code> - Not Found - <code>500</code> - Internal Server Error</p>"},{"location":"api-reference-card/#session-management","title":"Session Management","text":"<ul> <li>All endpoints use HTTP sessions (cookies)</li> <li>Session persists across steps 1-9</li> <li>Use same browser/client for entire workflow</li> <li>Call <code>/reset</code> to clear session</li> </ul>"},{"location":"api-reference-card/#esign-mode-differences","title":"eSign Mode Differences","text":"Feature eSign 2.1 eSign 3.2 Authentication Aadhaar OTP eKYC Callback <code>/esp-response</code> <code>/3.2/getdocs/</code> + <code>/3.2/callback/</code> Document URL Not required Required (public URL) Response Synchronous Asynchronous"},{"location":"api-reference-card/#quick-tips","title":"Quick Tips","text":"<ul> <li>Always set mode first (<code>/set-mode</code>)  </li> <li>Follow steps in order (1 \u2192 2 \u2192 3 \u2192 ... \u2192 9)  </li> <li>Use same session for all steps  </li> <li>Public callback URL required for ESP  </li> <li>Check session data with <code>/esp-response-data</code> </li> </ul>"},{"location":"api-reference-card/#support","title":"Support","text":"<p>Full Documentation: eSign-sdk-technical-documentation.md Quick Start: quick-start-guide.md Email: support@www.esign.network Website: https://www.esign.network/esign-sdk</p> <p>\u00a9 2025 Capricorn Technologies</p>"},{"location":"deployment-checklist/","title":"eSign SDK v2.1.0 - Deployment Checklist","text":"<p>Production Deployment Checklist</p>"},{"location":"deployment-checklist/#pre-deployment-checklist","title":"Pre-Deployment Checklist","text":""},{"location":"deployment-checklist/#infrastructure-requirements","title":"Infrastructure Requirements","text":"<ul> <li>[ ] Server provisioned with minimum 4GB RAM, 2 CPU cores</li> <li>[ ] Java 17 JDK installed and verified</li> <li>[ ] Firewall configured to allow port 8080 (or custom port)</li> <li>[ ] SSL/TLS certificate obtained for HTTPS</li> <li>[ ] Reverse proxy configured (Nginx/Apache) for SSL termination</li> <li>[ ] Domain name configured and DNS pointing to server</li> <li>[ ] Backup storage configured for signed documents</li> </ul>"},{"location":"deployment-checklist/#security-requirements","title":"Security Requirements","text":"<ul> <li>[ ] eSign license file obtained and validated</li> <li>[ ] ASP certificate (.pfx) obtained and password secured</li> <li>[ ] Certificate expiry checked (minimum 6 months validity)</li> <li>[ ] Strong password set for certificate (12+ characters)</li> <li>[ ] File permissions restricted on config directory</li> <li>[ ] Firewall rules configured (allow only necessary ports)</li> <li>[ ] SELinux/AppArmor configured (if applicable)</li> </ul>"},{"location":"deployment-checklist/#configuration","title":"Configuration","text":"<ul> <li>[ ] application.properties configured for production</li> <li>[ ] Production ESP URLs set</li> <li>[ ] Public callback URLs configured</li> <li>[ ] ASP ID and credentials set</li> <li>[ ] File paths configured</li> <li>[ ] Upload limits set appropriately</li> <li>[ ] Logging configured</li> <li>[ ] Log level set to INFO or WARN</li> <li>[ ] Log rotation configured</li> <li>[ ] Log directory with sufficient space</li> <li>[ ] Session timeout configured appropriately</li> <li>[ ] CORS settings configured for production domains</li> </ul>"},{"location":"deployment-checklist/#testing","title":"Testing","text":"<ul> <li>[ ] Application starts successfully</li> <li>[ ] Configuration validated (license, certificate)</li> <li>[ ] API endpoints tested with curl/Postman</li> <li>[ ] End-to-end signing tested in staging</li> <li>[ ] ESP callbacks tested and verified</li> <li>[ ] Error handling tested</li> <li>[ ] Load testing performed (if high volume expected)</li> </ul>"},{"location":"deployment-checklist/#deployment-steps","title":"Deployment Steps","text":""},{"location":"deployment-checklist/#linux-deployment","title":"Linux Deployment","text":""},{"location":"deployment-checklist/#step-1-create-installation-directory","title":"Step 1: Create Installation Directory","text":"<pre><code>sudo mkdir -p /opt/esign-sdk\nsudo mkdir -p /opt/esign-sdk/config\nsudo mkdir -p /opt/esign-sdk/temp\nsudo mkdir -p /opt/esign-sdk/signed\nsudo mkdir -p /opt/esign-sdk/logs\n</code></pre>"},{"location":"deployment-checklist/#step-2-copy-files","title":"Step 2: Copy Files","text":"<pre><code>sudo cp esign-sdk-2.1.0.jar /opt/esign-sdk/\nsudo cp application.properties /opt/esign-sdk/\nsudo cp config/eSignLicense /opt/esign-sdk/config/\nsudo cp config/privatekey.pfx /opt/esign-sdk/config/\n</code></pre>"},{"location":"deployment-checklist/#step-3-set-permissions","title":"Step 3: Set Permissions","text":"<pre><code>sudo useradd -r -s /bin/false esign\nsudo chown -R esign:esign /opt/esign-sdk\nsudo chmod 600 /opt/esign-sdk/config/privatekey.pfx\nsudo chmod 644 /opt/esign-sdk/config/eSignLicense\n</code></pre>"},{"location":"deployment-checklist/#step-4-create-systemd-service","title":"Step 4: Create Systemd Service","text":"<pre><code>sudo nano /etc/systemd/system/esign-sdk.service\n</code></pre> <pre><code>[Unit]\nDescription=eSign SDK Service\nAfter=network.target\n\n[Service]\nType=simple\nUser=esign\nWorkingDirectory=/opt/esign-sdk\nExecStart=/usr/bin/java -Xms2G -Xmx4G -jar /opt/esign-sdk/esign-sdk-2.1.0.jar\nRestart=on-failure\nRestartSec=10\nStandardOutput=append:/opt/esign-sdk/logs/esign-sdk.log\nStandardError=append:/opt/esign-sdk/logs/esign-sdk-error.log\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>"},{"location":"deployment-checklist/#step-5-enable-and-start-service","title":"Step 5: Enable and Start Service","text":"<pre><code>sudo systemctl daemon-reload\nsudo systemctl enable esign-sdk\nsudo systemctl start esign-sdk\nsudo systemctl status esign-sdk\n</code></pre>"},{"location":"deployment-checklist/#step-6-configure-firewall","title":"Step 6: Configure Firewall","text":"<pre><code># UFW (Ubuntu/Debian)\nsudo ufw allow 8080/tcp\nsudo ufw reload\n\n# firewalld (CentOS/RHEL)\nsudo firewall-cmd --permanent --add-port=8080/tcp\nsudo firewall-cmd --reload\n</code></pre>"},{"location":"deployment-checklist/#step-7-configure-nginx-reverse-proxy","title":"Step 7: Configure Nginx Reverse Proxy","text":"<pre><code>sudo nano /etc/nginx/sites-available/esign-sdk\n</code></pre> <pre><code>server {\n    listen 80;\n    server_name esign.yourdomain.com;\n    return 301 https://$server_name$request_uri;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name esign.yourdomain.com;\n\n    ssl_certificate /etc/ssl/certs/esign.crt;\n    ssl_certificate_key /etc/ssl/private/esign.key;\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers HIGH:!aNULL:!MD5;\n\n    client_max_body_size 50M;\n\n    location / {\n        proxy_pass http://localhost:8080;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\n</code></pre> <pre><code>sudo ln -s /etc/nginx/sites-available/esign-sdk /etc/nginx/sites-enabled/\nsudo nginx -t\nsudo systemctl reload nginx\n</code></pre>"},{"location":"deployment-checklist/#windows-deployment","title":"Windows Deployment","text":""},{"location":"deployment-checklist/#step-1-create-installation-directory_1","title":"Step 1: Create Installation Directory","text":"<pre><code>mkdir C:\\esign-sdk\nmkdir C:\\esign-sdk\\config\nmkdir C:\\esign-sdk\\temp\nmkdir C:\\esign-sdk\\signed\nmkdir C:\\esign-sdk\\logs\n</code></pre>"},{"location":"deployment-checklist/#step-2-copy-files_1","title":"Step 2: Copy Files","text":"<pre><code>Copy-Item esign-sdk-2.1.0.jar C:\\esign-sdk\\\nCopy-Item application.properties C:\\esign-sdk\\\nCopy-Item config\\eSignLicense C:\\esign-sdk\\config\\\nCopy-Item config\\privatekey.pfx C:\\esign-sdk\\config\\\n</code></pre>"},{"location":"deployment-checklist/#step-3-create-windows-service","title":"Step 3: Create Windows Service","text":"<p>Create <code>install-service.bat</code>: <pre><code>@echo off\nsc create \"eSignSDK\" binPath= \"C:\\esign-sdk\\run.bat\" start= auto\nsc description \"eSignSDK\" \"eSign Digital Signature Service\"\nsc start \"eSignSDK\"\n</code></pre></p> <p>Create <code>run.bat</code>: <pre><code>@echo off\ncd C:\\esign-sdk\njava -Xms2G -Xmx4G -jar esign-sdk-2.1.0.jar &gt;&gt; logs\\esign-sdk.log 2&gt;&amp;1\n</code></pre></p>"},{"location":"deployment-checklist/#step-4-configure-firewall","title":"Step 4: Configure Firewall","text":"<pre><code>netsh advfirewall firewall add rule name=\"eSign SDK\" dir=in action=allow protocol=TCP localport=8080\n</code></pre>"},{"location":"deployment-checklist/#post-deployment-checklist","title":"Post-Deployment Checklist","text":""},{"location":"deployment-checklist/#verification","title":"Verification","text":"<ul> <li>[ ] Service running and auto-starts on reboot</li> <li>[ ] Web interface accessible at https://yourdomain.com</li> <li>[ ] API endpoints responding correctly</li> <li>[ ] SSL certificate valid and trusted</li> <li>[ ] ESP callbacks working (test with real signing)</li> <li>[ ] Logs being written correctly</li> <li>[ ] File permissions correct and secure</li> </ul>"},{"location":"deployment-checklist/#monitoring-setup","title":"Monitoring Setup","text":"<ul> <li>[ ] Application logs monitored   <pre><code>tail -f /opt/esign-sdk/logs/esign-sdk.log\n</code></pre></li> <li>[ ] System resources monitored (CPU, RAM, disk)</li> <li>[ ] Uptime monitoring configured (e.g., UptimeRobot, Pingdom)</li> <li>[ ] Error alerting configured</li> <li>[ ] Disk space alerts configured for temp/signed directories</li> </ul>"},{"location":"deployment-checklist/#backup-configuration","title":"Backup Configuration","text":"<ul> <li>[ ] Configuration backup automated   <pre><code># Daily backup script\n#!/bin/bash\ntar -czf /backup/esign-config-$(date +%Y%m%d).tar.gz \\\n  /opt/esign-sdk/config/ \\\n  /opt/esign-sdk/application.properties\n</code></pre></li> <li>[ ] Signed documents backup configured   <pre><code># Backup signed PDFs\nrsync -av /opt/esign-sdk/signed/ /backup/signed/\n</code></pre></li> <li>[ ] Database backup (if using external DB)</li> <li>[ ] Backup retention policy defined</li> </ul>"},{"location":"deployment-checklist/#maintenance-tasks","title":"Maintenance Tasks","text":"<ul> <li>[ ] Log rotation configured   <pre><code># /etc/logrotate.d/esign-sdk\n/opt/esign-sdk/logs/*.log {\n    daily\n    rotate 30\n    compress\n    delaycompress\n    notifempty\n    create 0640 esign esign\n}\n</code></pre></li> <li>[ ] Temp file cleanup scheduled   <pre><code># Cron job: daily at 2 AM\n0 2 * * * find /opt/esign-sdk/temp -type f -mtime +7 -delete\n</code></pre></li> <li>[ ] Certificate expiry monitoring configured</li> <li>[ ] Update procedure documented</li> </ul>"},{"location":"deployment-checklist/#security-hardening","title":"Security Hardening","text":""},{"location":"deployment-checklist/#application-security","title":"Application Security","text":"<ul> <li>[ ] HTTPS only (HTTP redirects to HTTPS)</li> <li>[ ] Strong SSL/TLS configuration (TLS 1.2+)</li> <li>[ ] CORS restricted to specific domains</li> <li>[ ] Session cookies marked as secure and httpOnly</li> <li>[ ] File upload size limits enforced</li> <li>[ ] Input validation enabled</li> </ul>"},{"location":"deployment-checklist/#system-security","title":"System Security","text":"<ul> <li>[ ] OS updates applied</li> <li>[ ] Firewall configured (only necessary ports open)</li> <li>[ ] SSH hardened (key-based auth, no root login)</li> <li>[ ] Fail2ban configured (if applicable)</li> <li>[ ] SELinux/AppArmor enabled and configured</li> <li>[ ] Antivirus installed and updated (if applicable)</li> </ul>"},{"location":"deployment-checklist/#access-control","title":"Access Control","text":"<ul> <li>[ ] Service user has minimal permissions</li> <li>[ ] Config files readable only by service user</li> <li>[ ] Certificate files protected (chmod 600)</li> <li>[ ] Admin access restricted to specific IPs</li> <li>[ ] SSH access restricted to specific users</li> </ul>"},{"location":"deployment-checklist/#performance-optimization","title":"Performance Optimization","text":""},{"location":"deployment-checklist/#jvm-tuning","title":"JVM Tuning","text":"<ul> <li>[ ] Heap size configured appropriately   <pre><code>-Xms2G -Xmx4G\n</code></pre></li> <li>[ ] Garbage collector optimized   <pre><code>-XX:+UseG1GC -XX:MaxGCPauseMillis=200\n</code></pre></li> <li>[ ] JVM monitoring enabled (JMX)</li> </ul>"},{"location":"deployment-checklist/#application-tuning","title":"Application Tuning","text":"<ul> <li>[ ] Connection pool sized appropriately</li> <li>[ ] Thread pool configured</li> <li>[ ] Session timeout optimized</li> <li>[ ] File cleanup automated</li> </ul>"},{"location":"deployment-checklist/#disaster-recovery","title":"Disaster Recovery","text":""},{"location":"deployment-checklist/#backup-strategy","title":"Backup Strategy","text":"<ul> <li>[ ] Daily backups of configuration</li> <li>[ ] Weekly backups of signed documents</li> <li>[ ] Monthly backups archived offsite</li> <li>[ ] Backup restoration tested</li> </ul>"},{"location":"deployment-checklist/#recovery-procedures","title":"Recovery Procedures","text":"<ul> <li>[ ] Recovery plan documented</li> <li>[ ] Recovery time objective (RTO) defined</li> <li>[ ] Recovery point objective (RPO) defined</li> <li>[ ] Failover procedure documented (if HA setup)</li> </ul>"},{"location":"deployment-checklist/#go-live-checklist","title":"Go-Live Checklist","text":""},{"location":"deployment-checklist/#final-verification","title":"Final Verification","text":"<ul> <li>[ ] All tests passed in production environment</li> <li>[ ] Monitoring active and alerts configured</li> <li>[ ] Backups verified and restoration tested</li> <li>[ ] Documentation complete and accessible</li> <li>[ ] Support team trained on the system</li> <li>[ ] Escalation procedures defined</li> </ul>"},{"location":"deployment-checklist/#communication","title":"Communication","text":"<ul> <li>[ ] Stakeholders notified of go-live date</li> <li>[ ] Users informed of new system</li> <li>[ ] Support contacts published</li> <li>[ ] Maintenance windows scheduled and communicated</li> </ul>"},{"location":"deployment-checklist/#post-go-live","title":"Post-Go-Live","text":"<ul> <li>[ ] Monitor closely for first 24-48 hours</li> <li>[ ] Review logs daily for first week</li> <li>[ ] Collect user feedback</li> <li>[ ] Performance metrics tracked</li> <li>[ ] Issues documented and resolved</li> </ul>"},{"location":"deployment-checklist/#rollback-plan","title":"Rollback Plan","text":"<p>In case of critical issues:</p> <ol> <li> <p>Stop service <pre><code>sudo systemctl stop esign-sdk\n</code></pre></p> </li> <li> <p>Restore previous version <pre><code>sudo cp /backup/esign-sdk-2.0.0.jar /opt/esign-sdk/esign-sdk-2.1.0.jar\n</code></pre></p> </li> <li> <p>Restore configuration <pre><code>sudo tar -xzf /backup/esign-config-backup.tar.gz -C /\n</code></pre></p> </li> <li> <p>Restart service <pre><code>sudo systemctl start esign-sdk\n</code></pre></p> </li> <li> <p>Verify functionality</p> </li> <li> <p>Notify stakeholders</p> </li> </ol>"},{"location":"deployment-checklist/#support-contacts","title":"Support Contacts","text":"<p>Technical Support: - Email: support@www.esign.network - Phone: +91-XXX-XXX-XXXX - Emergency: +91-XXX-XXX-XXXX (24/7)</p> <p>Escalation: - Level 1: Technical Support - Level 2: Senior Engineer - Level 3: Development Team</p>"},{"location":"deployment-checklist/#sign-off","title":"Sign-Off","text":"Role Name Signature Date System Administrator Security Officer Project Manager Business Owner <p>\u00a9 2025 Capricorn Technologies</p>"},{"location":"eSign-sdk-technical-documentation-part2/","title":"eSign SDK v2.1.0 - Technical Documentation (Part 2)","text":""},{"location":"eSign-sdk-technical-documentation-part2/#73-detailed-api-reference","title":"7.3 Detailed API Reference","text":""},{"location":"eSign-sdk-technical-documentation-part2/#731-set-esign-mode","title":"7.3.1 Set eSign Mode","text":"<p>Endpoint: <code>POST /api/esign/set-mode</code></p> <p>Description: Set the eSign mode to either 2.1 (OTP-based) or 3.2 (eKYC-based)</p> <p>Request: <pre><code>{\n  \"mode\": \"2.1\"\n}\n</code></pre></p> <p>Request Parameters:</p> Parameter Type Required Description <code>mode</code> string Yes eSign mode: \"2.1\" or \"3.2\" <p>Response (Success): <pre><code>{\n  \"success\": true,\n  \"mode\": \"2.1\",\n  \"modeName\": \"OTP-based Signing\",\n  \"message\": \"eSign mode set to 2.1\"\n}\n</code></pre></p> <p>Response (Error): <pre><code>{\n  \"success\": false,\n  \"error\": \"Invalid mode. Use '2.1' or '3.2'\"\n}\n</code></pre></p> <p>Example (cURL): <pre><code>curl -X POST http://localhost:8080/api/esign/set-mode \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"mode\":\"2.1\"}'\n</code></pre></p>"},{"location":"eSign-sdk-technical-documentation-part2/#732-serve-pdf-document","title":"7.3.2 Serve PDF Document","text":"<p>Endpoint: <code>GET /api/esign/documents/{documentId}.pdf</code></p> <p>Description: Serve a PDF document publicly (required for eSign 3.2)</p> <p>Path Parameters:</p> Parameter Type Description <code>documentId</code> string Document identifier (UUID) <p>Response: PDF file (application/pdf)</p> <p>Example: <pre><code>curl http://localhost:8080/api/esign/documents/abc123.pdf -o document.pdf\n</code></pre></p>"},{"location":"eSign-sdk-technical-documentation-part2/#733-step-1-upload-pdf","title":"7.3.3 Step 1: Upload PDF","text":"<p>Endpoint: <code>POST /api/esign/step1/upload</code></p> <p>Description: Upload a PDF file for signing</p> <p>Request: Multipart form data - <code>file</code>: PDF file (max 50MB)</p> <p>Response (Success): <pre><code>{\n  \"success\": true,\n  \"step\": 1,\n  \"message\": \"PDF uploaded successfully\",\n  \"fileName\": \"contract.pdf\",\n  \"fileSize\": 245678,\n  \"savedPath\": \"./temp/abc123.pdf\",\n  \"documentId\": \"abc123\",\n  \"documentPublicUrl\": \"http://localhost:8080/api/esign/documents/abc123.pdf\",\n  \"esignMode\": \"2.1\"\n}\n</code></pre></p> <p>Example (cURL): <pre><code>curl -X POST http://localhost:8080/api/esign/step1/upload \\\n  -F \"file=@/path/to/document.pdf\"\n</code></pre></p> <p>Example (JavaScript): <pre><code>const formData = new FormData();\nformData.append('file', pdfFile);\n\nfetch('http://localhost:8080/api/esign/step1/upload', {\n  method: 'POST',\n  body: formData\n})\n.then(response =&gt; response.json())\n.then(data =&gt; console.log(data));\n</code></pre></p>"},{"location":"eSign-sdk-technical-documentation-part2/#734-step-2-set-signer-details","title":"7.3.4 Step 2: Set Signer Details","text":"<p>Endpoint: <code>POST /api/esign/step2/signer-details</code></p> <p>Description: Set signer information and signature position</p> <p>Request: <pre><code>{\n  \"signerName\": \"John Doe\",\n  \"docInfo\": \"Employment Contract\",\n  \"pageNo\": 1,\n  \"x1\": 350,\n  \"y1\": 50,\n  \"x2\": 550,\n  \"y2\": 120\n}\n</code></pre></p> <p>Request Parameters:</p> Parameter Type Required Default Description <code>signerName</code> string Yes - Name of the signer <code>docInfo</code> string Yes - Document description <code>pageNo</code> integer No 1 Page number for signature <code>x1</code> integer No 350 Signature box X1 coordinate <code>y1</code> integer No 50 Signature box Y1 coordinate <code>x2</code> integer No 550 Signature box X2 coordinate <code>y2</code> integer No 120 Signature box Y2 coordinate <p>Response: <pre><code>{\n  \"success\": true,\n  \"step\": 2,\n  \"message\": \"Signer details set successfully\",\n  \"signerName\": \"John Doe\",\n  \"docInfo\": \"Employment Contract\",\n  \"signaturePosition\": {\n    \"page\": 1,\n    \"x1\": 350,\n    \"y1\": 50,\n    \"x2\": 550,\n    \"y2\": 120\n  }\n}\n</code></pre></p> <p>Example (cURL): <pre><code>curl -X POST http://localhost:8080/api/esign/step2/signer-details \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"signerName\": \"John Doe\",\n    \"docInfo\": \"Employment Contract\",\n    \"pageNo\": 1,\n    \"x1\": 350,\n    \"y1\": 50,\n    \"x2\": 550,\n    \"y2\": 120\n  }'\n</code></pre></p>"},{"location":"eSign-sdk-technical-documentation-part2/#735-step-3-generate-document-hash","title":"7.3.5 Step 3: Generate Document Hash","text":"<p>Endpoint: <code>POST /api/esign/step3/generate-hash</code></p> <p>Description: Generate SHA-256 hash of the PDF document</p> <p>Request: No body required (uses session data)</p> <p>Response: <pre><code>{\n  \"success\": true,\n  \"step\": 3,\n  \"message\": \"Document hash generated successfully\",\n  \"hashAlgorithm\": \"SHA-256\",\n  \"hashBytes\": [45, 78, 123, ...],\n  \"hashLength\": 32\n}\n</code></pre></p> <p>Example: <pre><code>curl -X POST http://localhost:8080/api/esign/step3/generate-hash \\\n  -H \"Content-Type: application/json\"\n</code></pre></p>"},{"location":"eSign-sdk-technical-documentation-part2/#736-step-4-convert-hash-to-hex","title":"7.3.6 Step 4: Convert Hash to Hex","text":"<p>Endpoint: <code>POST /api/esign/step4/convert-hex</code></p> <p>Description: Convert hash bytes to hexadecimal string</p> <p>Response: <pre><code>{\n  \"success\": true,\n  \"step\": 4,\n  \"message\": \"Hash converted to hex successfully\",\n  \"hashHex\": \"2d4e7b9a...\",\n  \"hashLength\": 64\n}\n</code></pre></p>"},{"location":"eSign-sdk-technical-documentation-part2/#737-step-5-generate-transaction-id","title":"7.3.7 Step 5: Generate Transaction ID","text":"<p>Endpoint: <code>POST /api/esign/step5/generate-txn</code></p> <p>Description: Generate unique transaction ID for this signing session</p> <p>Response: <pre><code>{\n  \"success\": true,\n  \"step\": 5,\n  \"message\": \"Transaction ID generated successfully\",\n  \"transactionId\": \"UKC:public:abc12345\",\n  \"timestamp\": \"2025-12-15T15:30:00\"\n}\n</code></pre></p>"},{"location":"eSign-sdk-technical-documentation-part2/#738-step-6-construct-xml-request","title":"7.3.8 Step 6: Construct XML Request","text":"<p>Endpoint: <code>POST /api/esign/step6/construct-xml</code></p> <p>Description: Construct eSign XML request according to protocol</p> <p>Response: <pre><code>{\n  \"success\": true,\n  \"step\": 6,\n  \"message\": \"XML request constructed successfully\",\n  \"xmlPreview\": \"&lt;?xml version=\\\"1.0\\\"?&gt;&lt;Esign ver=\\\"2.1\\\" ...&gt;\",\n  \"xmlLength\": 2456\n}\n</code></pre></p>"},{"location":"eSign-sdk-technical-documentation-part2/#739-step-7-sign-xml-with-certificate","title":"7.3.9 Step 7: Sign XML with Certificate","text":"<p>Endpoint: <code>POST /api/esign/step7/sign-xml</code></p> <p>Description: Sign the XML request with ASP certificate</p> <p>Response: <pre><code>{\n  \"success\": true,\n  \"step\": 7,\n  \"message\": \"XML signed successfully\",\n  \"signedXmlPreview\": \"&lt;?xml version=\\\"1.0\\\"?&gt;&lt;Esign ...&gt;&lt;Signature ...&gt;\",\n  \"signatureAlgorithm\": \"RSA-SHA256\",\n  \"certificateSubject\": \"CN=YourASP, O=YourOrg, C=IN\"\n}\n</code></pre></p>"},{"location":"eSign-sdk-technical-documentation-part2/#7310-step-8-generate-esp-redirect-form","title":"7.3.10 Step 8: Generate ESP Redirect Form","text":"<p>Endpoint: <code>POST /api/esign/step8/generate-esp-form</code></p> <p>Description: Generate HTML form to redirect user to ESP</p> <p>Response: <pre><code>{\n  \"success\": true,\n  \"step\": 8,\n  \"message\": \"ESP redirect form generated\",\n  \"espUrl\": \"https://demo.esign.digital/esign/2.1/signdoc/\",\n  \"htmlForm\": \"&lt;html&gt;&lt;body&gt;&lt;form method='POST' ...&gt;\",\n  \"autoSubmit\": true\n}\n</code></pre></p> <p>Usage: Load the <code>htmlForm</code> in browser to redirect user to ESP</p>"},{"location":"eSign-sdk-technical-documentation-part2/#7311-esp-response-callback-esign-21","title":"7.3.11 ESP Response Callback (eSign 2.1)","text":"<p>Endpoint: <code>POST /api/esign/esp-response</code></p> <p>Description: Callback endpoint where ESP posts the signed response (eSign 2.1)</p> <p>Request Parameters:</p> Parameter Type Description <code>esignresp</code> string Signed XML response from ESP <code>msg</code> string Alternative parameter name <code>eSignResponse</code> string Alternative parameter name <p>Response: HTML page displaying the response</p> <p>Note: This endpoint is called by ESP, not by your application</p>"},{"location":"eSign-sdk-technical-documentation-part2/#7312-esp-getdocs-callback-esign-32","title":"7.3.12 ESP GetDocs Callback (eSign 3.2)","text":"<p>Endpoint: <code>POST /api/esign/3.2/getdocs/</code></p> <p>Description: Callback endpoint where ESP posts signed documents (eSign 3.2)</p> <p>Response: <code>OK</code> (acknowledgment)</p>"},{"location":"eSign-sdk-technical-documentation-part2/#7313-esp-redirect-callback-esign-32","title":"7.3.13 ESP Redirect Callback (eSign 3.2)","text":"<p>Endpoint: <code>GET/POST /api/esign/3.2/callback/</code></p> <p>Description: Redirect URL where user is sent after signing (eSign 3.2)</p> <p>Query Parameters:</p> Parameter Type Description <code>txnRef</code> string Base64-encoded transaction reference <code>status</code> string Signing status <code>txn</code> string Transaction ID <p>Response: HTML page with signing status</p>"},{"location":"eSign-sdk-technical-documentation-part2/#7314-get-esp-response-data","title":"7.3.14 Get ESP Response Data","text":"<p>Endpoint: <code>GET /api/esign/esp-response-data</code></p> <p>Description: Retrieve ESP response data from session</p> <p>Response: <pre><code>{\n  \"success\": true,\n  \"espResponseReceived\": true,\n  \"responseXml\": \"&lt;?xml version=\\\"1.0\\\"?&gt;...\",\n  \"pkcs7Signature\": \"MIIGxwYJKoZIhvcNAQcCoIIGuDCC...\",\n  \"transactionId\": \"UKC:public:abc12345\"\n}\n</code></pre></p>"},{"location":"eSign-sdk-technical-documentation-part2/#7315-embed-signature-manual","title":"7.3.15 Embed Signature (Manual)","text":"<p>Endpoint: <code>POST /api/esign/embed-signature</code></p> <p>Description: Manually embed PKCS#7 signature into PDF</p> <p>Request: <pre><code>{\n  \"transactionId\": \"UKC:public:abc12345\"\n}\n</code></pre></p> <p>Response: <pre><code>{\n  \"success\": true,\n  \"message\": \"Signature embedded successfully\",\n  \"signedPdfPath\": \"./signed/contract_signed_abc123.pdf\",\n  \"downloadUrl\": \"/download/contract_signed_abc123.pdf\"\n}\n</code></pre></p>"},{"location":"eSign-sdk-technical-documentation-part2/#7316-step-9-embed-signature-workflow","title":"7.3.16 Step 9: Embed Signature (Workflow)","text":"<p>Endpoint: <code>POST /api/esign/step9/embed-signature</code></p> <p>Description: Step 9 in the workflow - embed signature into PDF</p> <p>Request: <pre><code>{\n  \"outputFileName\": \"contract_signed.pdf\"\n}\n</code></pre></p> <p>Response: <pre><code>{\n  \"success\": true,\n  \"step\": 9,\n  \"message\": \"Signature embedded successfully\",\n  \"signedPdfPath\": \"./signed/contract_signed.pdf\",\n  \"fileSize\": 256789,\n  \"signerName\": \"John Doe\",\n  \"signedAt\": \"2025-12-15T15:35:00\"\n}\n</code></pre></p>"},{"location":"eSign-sdk-technical-documentation-part2/#7317-get-configuration","title":"7.3.17 Get Configuration","text":"<p>Endpoint: <code>GET /api/esign/config</code></p> <p>Description: Get current configuration (sanitized)</p> <p>Response: <pre><code>{\n  \"success\": true,\n  \"config\": {\n    \"esp21Url\": \"https://demo.esign.digital/esign/2.1/signdoc/\",\n    \"esp32Url\": \"https://demo.esign.digital/esign/3.2/signdoc/\",\n    \"aspId\": \"capricornaspid\",\n    \"baseUrl\": \"http://localhost:8080\",\n    \"tempPath\": \"./temp/\",\n    \"outputPath\": \"./signed/\"\n  }\n}\n</code></pre></p> <p>Note: Sensitive data (passwords, certificates) are not included</p>"},{"location":"eSign-sdk-technical-documentation-part2/#7318-reset-session","title":"7.3.18 Reset Session","text":"<p>Endpoint: <code>POST /api/esign/reset</code></p> <p>Description: Reset the current signing session</p> <p>Response: <pre><code>{\n  \"success\": true,\n  \"message\": \"Session reset successfully\"\n}\n</code></pre></p>"},{"location":"eSign-sdk-technical-documentation-part2/#8-usage-guide","title":"8. Usage Guide","text":""},{"location":"eSign-sdk-technical-documentation-part2/#81-complete-workflow-esign-21-otp-based","title":"8.1 Complete Workflow - eSign 2.1 (OTP-based)","text":""},{"location":"eSign-sdk-technical-documentation-part2/#step-by-step-process","title":"Step-by-Step Process","text":"<p>Step 1: Set Mode <pre><code>curl -X POST http://localhost:8080/api/esign/set-mode \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"mode\":\"2.1\"}'\n</code></pre></p> <p>Step 2: Upload PDF <pre><code>curl -X POST http://localhost:8080/api/esign/step1/upload \\\n  -F \"file=@contract.pdf\"\n</code></pre></p> <p>Step 3: Set Signer Details <pre><code>curl -X POST http://localhost:8080/api/esign/step2/signer-details \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"signerName\": \"John Doe\",\n    \"docInfo\": \"Employment Contract\"\n  }'\n</code></pre></p> <p>Step 4: Generate Hash <pre><code>curl -X POST http://localhost:8080/api/esign/step3/generate-hash\n</code></pre></p> <p>Step 5: Convert to Hex <pre><code>curl -X POST http://localhost:8080/api/esign/step4/convert-hex\n</code></pre></p> <p>Step 6: Generate Transaction ID <pre><code>curl -X POST http://localhost:8080/api/esign/step5/generate-txn\n</code></pre></p> <p>Step 7: Construct XML <pre><code>curl -X POST http://localhost:8080/api/esign/step6/construct-xml\n</code></pre></p> <p>Step 8: Sign XML <pre><code>curl -X POST http://localhost:8080/api/esign/step7/sign-xml\n</code></pre></p> <p>Step 9: Generate ESP Form <pre><code>curl -X POST http://localhost:8080/api/esign/step8/generate-esp-form\n</code></pre></p> <p>Step 10: User Signs at ESP - Load the HTML form in browser - User enters Aadhaar number and OTP - ESP redirects back to your callback URL</p> <p>Step 11: Embed Signature <pre><code>curl -X POST http://localhost:8080/api/esign/step9/embed-signature \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"outputFileName\": \"contract_signed.pdf\"}'\n</code></pre></p>"},{"location":"eSign-sdk-technical-documentation-part2/#82-complete-workflow-esign-32-ekyc-based","title":"8.2 Complete Workflow - eSign 3.2 (eKYC-based)","text":"<p>The workflow is similar to 2.1, with these differences:</p> <ol> <li> <p>Set mode to 3.2: <pre><code>curl -X POST http://localhost:8080/api/esign/set-mode \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"mode\":\"3.2\"}'\n</code></pre></p> </li> <li> <p>Different ESP URLs are used automatically</p> </li> <li>Two callbacks:</li> <li><code>/api/esign/3.2/getdocs/</code> - ESP posts signature</li> <li><code>/api/esign/3.2/callback/</code> - User redirect</li> </ol>"},{"location":"eSign-sdk-technical-documentation-part2/#83-javascript-integration-example","title":"8.3 JavaScript Integration Example","text":"<pre><code>class ESignClient {\n  constructor(baseUrl = 'http://localhost:8080') {\n    this.baseUrl = baseUrl;\n    this.apiBase = `${baseUrl}/api/esign`;\n  }\n\n  async setMode(mode) {\n    const response = await fetch(`${this.apiBase}/set-mode`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ mode })\n    });\n    return response.json();\n  }\n\n  async uploadPdf(file) {\n    const formData = new FormData();\n    formData.append('file', file);\n\n    const response = await fetch(`${this.apiBase}/step1/upload`, {\n      method: 'POST',\n      body: formData\n    });\n    return response.json();\n  }\n\n  async setSignerDetails(signerName, docInfo, position = {}) {\n    const response = await fetch(`${this.apiBase}/step2/signer-details`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        signerName,\n        docInfo,\n        pageNo: position.pageNo || 1,\n        x1: position.x1 || 350,\n        y1: position.y1 || 50,\n        x2: position.x2 || 550,\n        y2: position.y2 || 120\n      })\n    });\n    return response.json();\n  }\n\n  async executeStep(stepNumber) {\n    const endpoints = {\n      3: 'step3/generate-hash',\n      4: 'step4/convert-hex',\n      5: 'step5/generate-txn',\n      6: 'step6/construct-xml',\n      7: 'step7/sign-xml',\n      8: 'step8/generate-esp-form'\n    };\n\n    const response = await fetch(`${this.apiBase}/${endpoints[stepNumber]}`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' }\n    });\n    return response.json();\n  }\n\n  async embedSignature(outputFileName) {\n    const response = await fetch(`${this.apiBase}/step9/embed-signature`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ outputFileName })\n    });\n    return response.json();\n  }\n\n  async completeSigningWorkflow(pdfFile, signerName, docInfo) {\n    try {\n      // Step 1: Upload PDF\n      console.log('Uploading PDF...');\n      await this.uploadPdf(pdfFile);\n\n      // Step 2: Set signer details\n      console.log('Setting signer details...');\n      await this.setSignerDetails(signerName, docInfo);\n\n      // Steps 3-8: Execute workflow\n      for (let step = 3; step &lt;= 8; step++) {\n        console.log(`Executing step ${step}...`);\n        const result = await this.executeStep(step);\n\n        if (step === 8) {\n          // Step 8 returns HTML form - display it\n          document.body.innerHTML = result.htmlForm;\n          return; // User will be redirected to ESP\n        }\n      }\n    } catch (error) {\n      console.error('Error in signing workflow:', error);\n      throw error;\n    }\n  }\n}\n\n// Usage\nconst esign = new ESignClient();\nconst fileInput = document.getElementById('pdfFile');\n\nesign.completeSigningWorkflow(\n  fileInput.files[0],\n  'John Doe',\n  'Employment Contract'\n);\n</code></pre>"},{"location":"eSign-sdk-technical-documentation-part2/#84-python-integration-example","title":"8.4 Python Integration Example","text":"<pre><code>import requests\n\nclass ESignClient:\n    def __init__(self, base_url='http://localhost:8080'):\n        self.base_url = base_url\n        self.api_base = f'{base_url}/api/esign'\n        self.session = requests.Session()\n\n    def set_mode(self, mode):\n        response = self.session.post(\n            f'{self.api_base}/set-mode',\n            json={'mode': mode}\n        )\n        return response.json()\n\n    def upload_pdf(self, pdf_path):\n        with open(pdf_path, 'rb') as f:\n            files = {'file': f}\n            response = self.session.post(\n                f'{self.api_base}/step1/upload',\n                files=files\n            )\n        return response.json()\n\n    def set_signer_details(self, signer_name, doc_info, **position):\n        data = {\n            'signerName': signer_name,\n            'docInfo': doc_info,\n            'pageNo': position.get('pageNo', 1),\n            'x1': position.get('x1', 350),\n            'y1': position.get('y1', 50),\n            'x2': position.get('x2', 550),\n            'y2': position.get('y2', 120)\n        }\n        response = self.session.post(\n            f'{self.api_base}/step2/signer-details',\n            json=data\n        )\n        return response.json()\n\n    def execute_step(self, step_number):\n        endpoints = {\n            3: 'step3/generate-hash',\n            4: 'step4/convert-hex',\n            5: 'step5/generate-txn',\n            6: 'step6/construct-xml',\n            7: 'step7/sign-xml',\n            8: 'step8/generate-esp-form'\n        }\n        response = self.session.post(\n            f'{self.api_base}/{endpoints[step_number]}'\n        )\n        return response.json()\n\n    def embed_signature(self, output_filename):\n        response = self.session.post(\n            f'{self.api_base}/step9/embed-signature',\n            json={'outputFileName': output_filename}\n        )\n        return response.json()\n\n    def complete_signing_workflow(self, pdf_path, signer_name, doc_info):\n        # Step 1: Upload PDF\n        print('Uploading PDF...')\n        self.upload_pdf(pdf_path)\n\n        # Step 2: Set signer details\n        print('Setting signer details...')\n        self.set_signer_details(signer_name, doc_info)\n\n        # Steps 3-8\n        for step in range(3, 9):\n            print(f'Executing step {step}...')\n            result = self.execute_step(step)\n\n            if step == 8:\n                # Save ESP form to file\n                with open('esp_redirect.html', 'w') as f:\n                    f.write(result['htmlForm'])\n                print('ESP redirect form saved to esp_redirect.html')\n                print('Open this file in browser to complete signing')\n                return result\n\n# Usage\nclient = ESignClient()\nclient.set_mode('2.1')\nclient.complete_signing_workflow(\n    'contract.pdf',\n    'John Doe',\n    'Employment Contract'\n)\n</code></pre>"},{"location":"eSign-sdk-technical-documentation-part2/#85-java-integration-example","title":"8.5 Java Integration Example","text":"<pre><code>import java.io.*;\nimport java.net.http.*;\nimport java.nio.file.*;\nimport com.google.gson.*;\n\npublic class ESignClient {\n    private final String baseUrl;\n    private final String apiBase;\n    private final HttpClient httpClient;\n    private final Gson gson;\n    private final CookieManager cookieManager;\n\n    public ESignClient(String baseUrl) {\n        this.baseUrl = baseUrl;\n        this.apiBase = baseUrl + \"/api/esign\";\n        this.cookieManager = new CookieManager();\n        this.httpClient = HttpClient.newBuilder()\n            .cookieHandler(cookieManager)\n            .build();\n        this.gson = new Gson();\n    }\n\n    public JsonObject setMode(String mode) throws Exception {\n        JsonObject request = new JsonObject();\n        request.addProperty(\"mode\", mode);\n\n        HttpRequest httpRequest = HttpRequest.newBuilder()\n            .uri(URI.create(apiBase + \"/set-mode\"))\n            .header(\"Content-Type\", \"application/json\")\n            .POST(HttpRequest.BodyPublishers.ofString(gson.toJson(request)))\n            .build();\n\n        HttpResponse&lt;String&gt; response = httpClient.send(\n            httpRequest, \n            HttpResponse.BodyHandlers.ofString()\n        );\n\n        return gson.fromJson(response.body(), JsonObject.class);\n    }\n\n    public JsonObject uploadPdf(Path pdfPath) throws Exception {\n        byte[] pdfBytes = Files.readAllBytes(pdfPath);\n        String boundary = \"----Boundary\" + System.currentTimeMillis();\n\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        PrintWriter writer = new PrintWriter(new OutputStreamWriter(outputStream));\n\n        writer.append(\"--\").append(boundary).append(\"\\r\\n\");\n        writer.append(\"Content-Disposition: form-data; name=\\\"file\\\"; filename=\\\"\")\n              .append(pdfPath.getFileName().toString()).append(\"\\\"\\r\\n\");\n        writer.append(\"Content-Type: application/pdf\\r\\n\\r\\n\");\n        writer.flush();\n\n        outputStream.write(pdfBytes);\n\n        writer.append(\"\\r\\n--\").append(boundary).append(\"--\\r\\n\");\n        writer.flush();\n\n        HttpRequest request = HttpRequest.newBuilder()\n            .uri(URI.create(apiBase + \"/step1/upload\"))\n            .header(\"Content-Type\", \"multipart/form-data; boundary=\" + boundary)\n            .POST(HttpRequest.BodyPublishers.ofByteArray(outputStream.toByteArray()))\n            .build();\n\n        HttpResponse&lt;String&gt; response = httpClient.send(\n            request,\n            HttpResponse.BodyHandlers.ofString()\n        );\n\n        return gson.fromJson(response.body(), JsonObject.class);\n    }\n\n    // Additional methods similar to Python example...\n}\n</code></pre>"},{"location":"eSign-sdk-technical-documentation-part2/#9-security-compliance","title":"9. Security &amp; Compliance","text":""},{"location":"eSign-sdk-technical-documentation-part2/#91-security-features","title":"9.1 Security Features","text":""},{"location":"eSign-sdk-technical-documentation-part2/#911-cryptographic-security","title":"9.1.1 Cryptographic Security","text":"<ul> <li>Hash Algorithm: SHA-256 (FIPS 140-2 compliant)</li> <li>Signature Algorithm: RSA with SHA-256</li> <li>Signature Format: PKCS#7 (CMS)</li> <li>Certificate Standard: X.509 v3</li> <li>Key Length: Minimum 2048-bit RSA</li> </ul>"},{"location":"eSign-sdk-technical-documentation-part2/#912-xml-security","title":"9.1.2 XML Security","text":"<ul> <li>XML Signature: W3C XML-Signature standard</li> <li>Canonicalization: Exclusive XML Canonicalization</li> <li>Transforms: Enveloped signature transform</li> <li>Certificate Embedding: X.509 certificate included in signature</li> </ul>"},{"location":"eSign-sdk-technical-documentation-part2/#913-transport-security","title":"9.1.3 Transport Security","text":"<ul> <li>Protocol: HTTPS/TLS 1.2+ for ESP communication</li> <li>Certificate Validation: Full chain validation</li> <li>Session Security: HTTP-only, secure cookies (in production)</li> </ul>"},{"location":"eSign-sdk-technical-documentation-part2/#92-compliance","title":"9.2 Compliance","text":""},{"location":"eSign-sdk-technical-documentation-part2/#921-indian-it-act-compliance","title":"9.2.1 Indian IT Act Compliance","text":"<ul> <li>\u2705 Compliant with IT Act 2000 (amended 2008)</li> <li>\u2705 Follows CCA guidelines for digital signatures</li> <li>\u2705 Aadhaar-based authentication (eSign 2.1 &amp; 3.2)</li> </ul>"},{"location":"eSign-sdk-technical-documentation-part2/#922-data-protection","title":"9.2.2 Data Protection","text":"<ul> <li>Personal Data: Minimal collection (only signer name)</li> <li>Data Retention: Session-based (cleared after signing)</li> <li>File Storage: Temporary files auto-deleted (configurable)</li> <li>Logging: No sensitive data in logs</li> </ul>"},{"location":"eSign-sdk-technical-documentation-part2/#93-security-best-practices","title":"9.3 Security Best Practices","text":""},{"location":"eSign-sdk-technical-documentation-part2/#931-production-deployment","title":"9.3.1 Production Deployment","text":"<ol> <li>Use HTTPS: Deploy behind reverse proxy with SSL/TLS</li> <li>Secure Configuration: Store credentials in environment variables</li> <li>File Permissions: Restrict access to config files</li> <li>Regular Updates: Keep Java and dependencies updated</li> <li>Firewall: Limit access to necessary ports only</li> </ol>"},{"location":"eSign-sdk-technical-documentation-part2/#932-certificate-management","title":"9.3.2 Certificate Management","text":"<ul> <li>Store <code>.pfx</code> files securely (encrypted filesystem)</li> <li>Use strong passwords (minimum 12 characters)</li> <li>Rotate certificates before expiry</li> <li>Backup certificates securely</li> </ul>"},{"location":"eSign-sdk-technical-documentation-part2/#933-session-management","title":"9.3.3 Session Management","text":"<ul> <li>Configure session timeout (default: 30 minutes)</li> <li>Use secure session cookies in production</li> <li>Clear sensitive session data after signing</li> </ul>"},{"location":"eSign-sdk-technical-documentation-part2/#10-troubleshooting","title":"10. Troubleshooting","text":""},{"location":"eSign-sdk-technical-documentation-part2/#101-common-issues","title":"10.1 Common Issues","text":""},{"location":"eSign-sdk-technical-documentation-part2/#1011-application-wont-start","title":"10.1.1 Application Won't Start","text":"<p>Issue: Port 8080 already in use <pre><code>Error: Port 8080 is already in use\n</code></pre></p> <p>Solution: <pre><code># Change port in application.properties\nserver.port=8081\n</code></pre></p> <p>Issue: Java version error <pre><code>Error: Unsupported class file major version 61\n</code></pre></p> <p>Solution: Install Java 17 or higher <pre><code>java -version  # Check current version\n# Install Java 17\n</code></pre></p> <p>Issue: License file not found <pre><code>Error: License file not found at ./config/eSignLicense\n</code></pre></p> <p>Solution: Check file path and permissions <pre><code>ls -la ./config/eSignLicense\n# Ensure file exists and is readable\n</code></pre></p>"},{"location":"eSign-sdk-technical-documentation-part2/#1012-pdf-upload-issues","title":"10.1.2 PDF Upload Issues","text":"<p>Issue: File too large <pre><code>{\n  \"error\": \"Maximum upload size exceeded\"\n}\n</code></pre></p> <p>Solution: Increase upload limit <pre><code>spring.servlet.multipart.max-file-size=100MB\nspring.servlet.multipart.max-request-size=100MB\n</code></pre></p> <p>Issue: Invalid PDF format <pre><code>{\n  \"error\": \"Invalid PDF file\"\n}\n</code></pre></p> <p>Solution: Ensure file is valid PDF (not corrupted)</p>"},{"location":"eSign-sdk-technical-documentation-part2/#1013-esp-communication-issues","title":"10.1.3 ESP Communication Issues","text":"<p>Issue: ESP callback not received <pre><code>ESP response timeout\n</code></pre></p> <p>Solutions: 1. Check callback URL is publicly accessible <pre><code># Test with ngrok for local development\nngrok http 8080\n# Use ngrok URL in application.properties\n</code></pre></p> <ol> <li> <p>Verify firewall allows inbound connections</p> </li> <li> <p>Check ESP logs for errors</p> </li> </ol> <p>Issue: XML signature validation failed <pre><code>Error: Invalid XML signature\n</code></pre></p> <p>Solutions: 1. Verify certificate is valid and not expired 2. Check certificate password is correct 3. Ensure certificate is in PKCS#12 (.pfx) format</p>"},{"location":"eSign-sdk-technical-documentation-part2/#1014-signature-embedding-issues","title":"10.1.4 Signature Embedding Issues","text":"<p>Issue: Signature field not found <pre><code>Error: Signature field 'Signature1' not found in PDF\n</code></pre></p> <p>Solution: Ensure PDF was prepared with placeholder in Step 3</p> <p>Issue: Invalid PKCS#7 signature <pre><code>Error: Invalid PKCS#7 signature data\n</code></pre></p> <p>Solutions: 1. Check ESP response was received correctly 2. Verify signature data is not corrupted 3. Check session data is intact</p>"},{"location":"eSign-sdk-technical-documentation-part2/#102-debugging","title":"10.2 Debugging","text":""},{"location":"eSign-sdk-technical-documentation-part2/#1021-enable-debug-logging","title":"10.2.1 Enable Debug Logging","text":"<p>Add to <code>application.properties</code>: <pre><code>logging.level.com.capricorn.esign=DEBUG\nlogging.level.org.springframework=INFO\n</code></pre></p>"},{"location":"eSign-sdk-technical-documentation-part2/#1022-check-application-logs","title":"10.2.2 Check Application Logs","text":"<p>Linux: <pre><code>journalctl -u esign-sdk -f\n</code></pre></p> <p>Docker: <pre><code>docker logs -f esign-sdk\n</code></pre></p> <p>Windows: Check console output or redirect to file: <pre><code>java -jar esign-sdk-2.1.0.jar &gt; esign.log 2&gt;&amp;1\n</code></pre></p>"},{"location":"eSign-sdk-technical-documentation-part2/#1023-test-api-endpoints","title":"10.2.3 Test API Endpoints","text":"<pre><code># Test health\ncurl http://localhost:8080/api/esign/config\n\n# Test mode setting\ncurl -X POST http://localhost:8080/api/esign/set-mode \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"mode\":\"2.1\"}'\n</code></pre>"},{"location":"eSign-sdk-technical-documentation-part2/#103-performance-tuning","title":"10.3 Performance Tuning","text":""},{"location":"eSign-sdk-technical-documentation-part2/#1031-jvm-options","title":"10.3.1 JVM Options","text":"<p>For production, use these JVM options: <pre><code>java -Xms2G -Xmx4G \\\n  -XX:+UseG1GC \\\n  -XX:MaxGCPauseMillis=200 \\\n  -jar esign-sdk-2.1.0.jar\n</code></pre></p>"},{"location":"eSign-sdk-technical-documentation-part2/#1032-file-cleanup","title":"10.3.2 File Cleanup","text":"<p>Configure automatic cleanup of old files: <pre><code># Add cron job (Linux)\n0 2 * * * find /opt/esign-sdk/temp -type f -mtime +7 -delete\n0 2 * * * find /opt/esign-sdk/signed -type f -mtime +30 -delete\n</code></pre></p>"},{"location":"eSign-sdk-technical-documentation-part2/#11-appendices","title":"11. Appendices","text":""},{"location":"eSign-sdk-technical-documentation-part2/#111-glossary","title":"11.1 Glossary","text":"Term Definition ASP Application Service Provider - Entity authorized to use eSign ESP eSign Service Provider - Government-authorized signing service CCA Controller of Certifying Authorities - Regulatory body PKCS#7 Public Key Cryptography Standard #7 - Signature format X.509 Standard for public key certificates SHA-256 Secure Hash Algorithm 256-bit OTP One-Time Password eKYC Electronic Know Your Customer Aadhaar India's biometric identification system"},{"location":"eSign-sdk-technical-documentation-part2/#112-file-structure-reference","title":"11.2 File Structure Reference","text":"<pre><code>esign-sdk-2.1.0/\n\u251c\u2500\u2500 esign-sdk-2.1.0.jar          # Main application JAR\n\u251c\u2500\u2500 application.properties        # Configuration file\n\u251c\u2500\u2500 config/                       # Configuration directory\n\u2502   \u251c\u2500\u2500 eSignLicense             # eSign license file\n\u2502   \u251c\u2500\u2500 privatekey.pfx           # ASP certificate\n\u2502   \u2514\u2500\u2500 sample.pdf               # Sample PDF for testing\n\u251c\u2500\u2500 temp/                         # Temporary files (auto-created)\n\u2502   \u251c\u2500\u2500 {uuid}.pdf               # Uploaded PDFs\n\u2502   \u2514\u2500\u2500 {uuid}_prepared.pdf      # Prepared PDFs with placeholders\n\u251c\u2500\u2500 signed/                       # Signed PDFs (auto-created)\n\u2502   \u2514\u2500\u2500 {filename}_signed.pdf    # Final signed documents\n\u2514\u2500\u2500 logs/                         # Application logs (optional)\n    \u2514\u2500\u2500 esign-sdk.log\n</code></pre>"},{"location":"eSign-sdk-technical-documentation-part2/#113-http-status-codes","title":"11.3 HTTP Status Codes","text":"Code Meaning When Used 200 OK Successful request 400 Bad Request Invalid parameters 404 Not Found Resource not found 500 Internal Server Error Server-side error"},{"location":"eSign-sdk-technical-documentation-part2/#114-error-codes","title":"11.4 Error Codes","text":"Error Code Description Solution <code>INVALID_MODE</code> Invalid eSign mode Use \"2.1\" or \"3.2\" <code>FILE_NOT_FOUND</code> PDF file not found Check file path <code>INVALID_PDF</code> Invalid PDF format Use valid PDF file <code>LICENSE_ERROR</code> License file error Check license file <code>CERT_ERROR</code> Certificate error Verify certificate and password <code>ESP_ERROR</code> ESP communication error Check network and ESP URL <code>SIGNATURE_ERROR</code> Signature embedding error Check ESP response"},{"location":"eSign-sdk-technical-documentation-part2/#115-support-resources","title":"11.5 Support &amp; Resources","text":"<p>Documentation: - eSign API Specification: https://esign.digital/docs - CCA Guidelines: https://cca.gov.in</p> <p>Support: - Email: support@www.esign.network - Phone: +91-XXX-XXX-XXXX - Website: https://www.esign.network/esign-sdk</p> <p>Updates: - Check for updates: https://www.esign.network/esign-sdk/updates - Release notes: https://www.esign.network/esign-sdk/releases</p>"},{"location":"eSign-sdk-technical-documentation-part2/#document-revision-history","title":"Document Revision History","text":"Version Date Changes Author 1.0 2025-12-15 Initial release Capricorn Technologies <p>End of Technical Documentation</p> <p>\u00a9 2025 Capricorn Technologies. All rights reserved.</p>"},{"location":"eSign-sdk-technical-documentation/","title":"eSign SDK v2.1.0 - Technical Documentation","text":"<p>Document Version: 1.0 Release Date: December 2025 Author: Capricorn Technologies Product: Digital Signature SDK for eSign API v2.1 &amp; v3.2</p>"},{"location":"eSign-sdk-technical-documentation/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Executive Summary</li> <li>System Overview</li> <li>System Architecture</li> <li>System Requirements</li> <li>Installation Guide</li> <li>Configuration Reference</li> <li>API Documentation</li> </ol> <p>Sections 8-11 are in Part 2: - Usage Guide - Security &amp; Compliance - Troubleshooting - Appendices</p>"},{"location":"eSign-sdk-technical-documentation/#1-executive-summary","title":"1. Executive Summary","text":""},{"location":"eSign-sdk-technical-documentation/#11-product-overview","title":"1.1 Product Overview","text":"<p>The eSign SDK v2.1.0 is a comprehensive Java-based server application that enables digital signature capabilities for PDF documents using India's eSign infrastructure. Built on Spring Boot 3.2.0, this SDK provides a robust, production-ready solution for integrating digital signatures into enterprise applications.</p>"},{"location":"eSign-sdk-technical-documentation/#12-key-features","title":"1.2 Key Features","text":"<ul> <li>Dual Mode Support: eSign 2.1 (OTP-based) and eSign 3.2 (eKYC-based)</li> <li>RESTful API: Complete REST API for easy integration</li> <li>PDF Processing: Advanced PDF manipulation with signature placeholders</li> <li>Cryptographic Security: Industry-standard cryptography (SHA-256, RSA, PKCS#7)</li> <li>Step-by-Step Workflow: Granular control over signing process</li> <li>Web Interface: Built-in UI for testing and demonstration</li> <li>Production Ready: Enterprise-grade error handling and logging</li> </ul>"},{"location":"eSign-sdk-technical-documentation/#13-technical-specifications","title":"1.3 Technical Specifications","text":"Specification Details Platform Java 17, Spring Boot 3.2.0 Server Embedded Apache Tomcat API Style RESTful JSON Supported Formats PDF (signing), XML (eSign protocol) Cryptography Bouncy Castle 1.77, SHA-256, RSA PDF Library iText 7.2.5 Build Tool Apache Maven License Commercial/Proprietary"},{"location":"eSign-sdk-technical-documentation/#2-system-overview","title":"2. System Overview","text":""},{"location":"eSign-sdk-technical-documentation/#21-what-is-esign","title":"2.1 What is eSign?","text":"<p>eSign is India's national digital signature service provided by the Controller of Certifying Authorities (CCA) under the Ministry of Electronics and Information Technology (MeitY). It enables citizens to digitally sign documents using Aadhaar-based authentication.</p>"},{"location":"eSign-sdk-technical-documentation/#22-esign-versions-supported","title":"2.2 eSign Versions Supported","text":""},{"location":"eSign-sdk-technical-documentation/#esign-21-otp-based","title":"eSign 2.1 (OTP-based)","text":"<ul> <li>Authentication: Aadhaar OTP</li> <li>Use Case: General document signing</li> <li>Flow: ASP \u2192 ESP \u2192 User (OTP) \u2192 ESP \u2192 ASP</li> <li>Response: Synchronous callback</li> </ul>"},{"location":"eSign-sdk-technical-documentation/#esign-32-ekyc-based","title":"eSign 3.2 (eKYC-based)","text":"<ul> <li>Authentication: eKYC authentication</li> <li>Use Case: High-security document signing</li> <li>Flow: ASP \u2192 ESP \u2192 User (eKYC) \u2192 ESP \u2192 ASP</li> <li>Response: Asynchronous callback with document retrieval</li> </ul>"},{"location":"eSign-sdk-technical-documentation/#23-architecture-overview","title":"2.3 Architecture Overview","text":"<pre><code>graph TB\n    subgraph \"Client Applications\"\n        A[Web Browser]\n        B[Mobile App]\n        C[Desktop App]\n    end\n\n    subgraph \"eSign SDK Server\"\n        D[REST API Layer&lt;br/&gt;ESignController]\n        E[Business Logic&lt;br/&gt;ESignStepProcessor]\n        F[Core Engine&lt;br/&gt;ESign2_1 / ESign3_2]\n        G[Configuration&lt;br/&gt;ESignConfig]\n    end\n\n    subgraph \"External Services\"\n        H[ESP Service&lt;br/&gt;eSign Service Provider]\n    end\n\n    subgraph \"Storage\"\n        I[File System&lt;br/&gt;PDF Storage]\n        J[Session Store&lt;br/&gt;In-Memory]\n    end\n\n    A --&gt; D\n    B --&gt; D\n    C --&gt; D\n    D --&gt; E\n    E --&gt; F\n    F --&gt; G\n    E --&gt; H\n    F --&gt; I\n    D --&gt; J\n    H --&gt; D</code></pre>"},{"location":"eSign-sdk-technical-documentation/#24-key-components","title":"2.4 Key Components","text":"Component Description Technology ESignController REST API endpoints Spring MVC ESignStepProcessor Step-by-step workflow orchestration Java ESign2_1 Core eSign 2.1 implementation Java, iText, Bouncy Castle ESign3_2 Core eSign 3.2 implementation Java, iText, Bouncy Castle ESignConfig Configuration management Java Properties ESignUtility Helper utilities Java"},{"location":"eSign-sdk-technical-documentation/#3-system-architecture","title":"3. System Architecture","text":""},{"location":"eSign-sdk-technical-documentation/#31-layered-architecture","title":"3.1 Layered Architecture","text":"<pre><code>graph TD\n    subgraph \"Presentation Layer\"\n        A1[REST Controllers]\n        A2[Web UI - HTML/JS]\n    end\n\n    subgraph \"Business Logic Layer\"\n        B1[Step Processor]\n        B2[Workflow Manager]\n        B3[Validation Logic]\n    end\n\n    subgraph \"Core Layer\"\n        C1[PDF Processing]\n        C2[XML Signing]\n        C3[Cryptography]\n        C4[Hash Calculation]\n    end\n\n    subgraph \"Integration Layer\"\n        D1[ESP Client]\n        D2[File I/O]\n        D3[Session Management]\n    end\n\n    A1 --&gt; B1\n    A2 --&gt; A1\n    B1 --&gt; B2\n    B2 --&gt; B3\n    B3 --&gt; C1\n    B3 --&gt; C2\n    C1 --&gt; C3\n    C2 --&gt; C3\n    C1 --&gt; C4\n    B1 --&gt; D1\n    C1 --&gt; D2\n    A1 --&gt; D3</code></pre>"},{"location":"eSign-sdk-technical-documentation/#32-data-flow","title":"3.2 Data Flow","text":""},{"location":"eSign-sdk-technical-documentation/#esign-21-flow","title":"eSign 2.1 Flow","text":"<pre><code>sequenceDiagram\n    participant Client\n    participant SDK\n    participant ESP\n    participant User\n\n    Client-&gt;&gt;SDK: 1. Upload PDF\n    SDK-&gt;&gt;SDK: 2. Add signature placeholder\n    SDK-&gt;&gt;SDK: 3. Calculate SHA-256 hash\n    SDK-&gt;&gt;SDK: 4. Generate transaction ID\n    SDK-&gt;&gt;SDK: 5. Create &amp; sign XML request\n    SDK-&gt;&gt;ESP: 6. Submit signed XML\n    ESP-&gt;&gt;User: 7. Request Aadhaar OTP\n    User-&gt;&gt;ESP: 8. Enter OTP\n    ESP-&gt;&gt;SDK: 9. POST signed response\n    SDK-&gt;&gt;SDK: 10. Embed PKCS#7 signature\n    SDK-&gt;&gt;Client: 11. Return signed PDF</code></pre>"},{"location":"eSign-sdk-technical-documentation/#esign-32-flow","title":"eSign 3.2 Flow","text":"<pre><code>sequenceDiagram\n    participant Client\n    participant SDK\n    participant ESP\n    participant User\n\n    Client-&gt;&gt;SDK: 1. Upload PDF\n    SDK-&gt;&gt;SDK: 2. Prepare PDF with empty signature\n    SDK-&gt;&gt;SDK: 3. Calculate byte range hash\n    SDK-&gt;&gt;SDK: 4. Generate transaction ID\n    SDK-&gt;&gt;SDK: 5. Create &amp; sign XML request\n    SDK-&gt;&gt;ESP: 6. Submit signed XML\n    ESP-&gt;&gt;User: 7. Request eKYC authentication\n    User-&gt;&gt;ESP: 8. Complete eKYC\n    ESP-&gt;&gt;SDK: 9. POST to getdocs endpoint\n    SDK-&gt;&gt;ESP: 10. Acknowledge receipt\n    ESP-&gt;&gt;Client: 11. Redirect to callback URL\n    SDK-&gt;&gt;SDK: 12. Embed PKCS#7 signature\n    SDK-&gt;&gt;Client: 13. Return signed PDF</code></pre>"},{"location":"eSign-sdk-technical-documentation/#33-security-architecture","title":"3.3 Security Architecture","text":"<pre><code>graph LR\n    subgraph \"Security Layers\"\n        A[HTTPS/TLS]\n        B[XML Digital Signature]\n        C[Certificate-based Auth]\n        D[Session Management]\n        E[File Access Control]\n    end\n\n    A --&gt; B\n    B --&gt; C\n    C --&gt; D\n    D --&gt; E</code></pre> <p>Security Features: - XML requests signed with ASP certificate (X.509) - SHA-256 hash algorithm for document integrity - PKCS#7 signature format (industry standard) - Session-based state management - Secure file storage with unique identifiers - Certificate validation (Bouncy Castle)</p>"},{"location":"eSign-sdk-technical-documentation/#4-system-requirements","title":"4. System Requirements","text":""},{"location":"eSign-sdk-technical-documentation/#41-server-requirements","title":"4.1 Server Requirements","text":""},{"location":"eSign-sdk-technical-documentation/#minimum-requirements","title":"Minimum Requirements","text":"Component Specification CPU 2 cores, 2.0 GHz RAM 4 GB Storage 10 GB free space Network 10 Mbps internet connection"},{"location":"eSign-sdk-technical-documentation/#recommended-requirements","title":"Recommended Requirements","text":"Component Specification CPU 4 cores, 2.5 GHz or higher RAM 8 GB or more Storage 50 GB SSD Network 100 Mbps internet connection"},{"location":"eSign-sdk-technical-documentation/#42-software-requirements","title":"4.2 Software Requirements","text":""},{"location":"eSign-sdk-technical-documentation/#required-software","title":"Required Software","text":"Software Version Purpose Java JDK 17 or higher Runtime environment Maven 3.6+ Build tool (for compilation)"},{"location":"eSign-sdk-technical-documentation/#operating-system-support","title":"Operating System Support","text":"OS Versions Status Windows Windows Server 2016/2019/2022, Windows 10/11 Fully Supported Linux Ubuntu 20.04+, CentOS 7+, RHEL 7+, Debian 10+ Fully Supported macOS macOS 11+ Fully Supported Unix Solaris, AIX Not tested, should work <p>[!NOTE] The application is platform-independent as it runs on the Java Virtual Machine (JVM). Any OS that supports Java 17+ can run this SDK.</p>"},{"location":"eSign-sdk-technical-documentation/#43-network-requirements","title":"4.3 Network Requirements","text":"Requirement Details Inbound Ports 8080 (HTTP) - configurable Outbound Ports 443 (HTTPS) for ESP communication Firewall Allow connections to ESP URLs Public Access Required for ESP callbacks (or use ngrok/tunneling)"},{"location":"eSign-sdk-technical-documentation/#44-external-dependencies","title":"4.4 External Dependencies","text":"Service Purpose URL ESP Service eSign Service Provider <code>https://demo.esign.digital/</code> (demo)<code>https://esp.esign.digital/</code> (production) CCA Certificate validation Automatic via Bouncy Castle"},{"location":"eSign-sdk-technical-documentation/#5-installation-guide","title":"5. Installation Guide","text":""},{"location":"eSign-sdk-technical-documentation/#51-pre-installation-checklist","title":"5.1 Pre-Installation Checklist","text":"<ul> <li>[ ] Java 17 JDK installed</li> <li>[ ] Maven 3.6+ installed (if building from source)</li> <li>[ ] eSign license file obtained</li> <li>[ ] ASP certificate (.pfx file) obtained</li> <li>[ ] Network connectivity to ESP service</li> <li>[ ] Firewall configured for port 8080</li> </ul>"},{"location":"eSign-sdk-technical-documentation/#52-installation-methods","title":"5.2 Installation Methods","text":""},{"location":"eSign-sdk-technical-documentation/#method-1-using-pre-built-jar-recommended","title":"Method 1: Using Pre-built JAR (Recommended)","text":"<p>Step 1: Download the SDK <pre><code># Extract the distribution package\nunzip esign-sdk-2.1.0-dist.zip\ncd esign-sdk-2.1.0\n</code></pre></p> <p>Step 2: Verify Java Installation <pre><code>java -version\n# Should show: openjdk version \"17.x.x\" or higher\n</code></pre></p> <p>Step 3: Configure the Application <pre><code># Edit application.properties\nnano application.properties\n# Or on Windows:\nnotepad application.properties\n</code></pre></p> <p>Step 4: Place Required Files <pre><code>esign-sdk-2.1.0/\n\u251c\u2500\u2500 esign-sdk-2.1.0.jar\n\u251c\u2500\u2500 application.properties\n\u251c\u2500\u2500 config/\n\u2502   \u251c\u2500\u2500 eSignLicense          # Your eSign license file\n\u2502   \u251c\u2500\u2500 privatekey.pfx         # Your ASP certificate\n\u2502   \u2514\u2500\u2500 sample.pdf             # (Optional) Test PDF\n\u251c\u2500\u2500 temp/                      # Auto-created for temporary files\n\u2514\u2500\u2500 signed/                    # Auto-created for signed PDFs\n</code></pre></p> <p>Step 5: Run the Application</p> <p>On Windows: <pre><code>java -jar esign-sdk-2.1.0.jar\n</code></pre></p> <p>On Linux/macOS: <pre><code>java -jar esign-sdk-2.1.0.jar\n</code></pre></p> <p>Step 6: Verify Installation <pre><code># Open browser and navigate to:\nhttp://localhost:8080\n</code></pre></p> <p>You should see the eSign SDK web interface.</p>"},{"location":"eSign-sdk-technical-documentation/#method-2-building-from-source","title":"Method 2: Building from Source","text":"<p>Step 1: Clone/Extract Source Code <pre><code>cd /path/to/source\n</code></pre></p> <p>Step 2: Build with Maven <pre><code>mvn clean package\n</code></pre></p> <p>This creates: <code>target/esign-sdk-2.1.0.jar</code></p> <p>Step 3: Run the Application <pre><code>cd target\njava -jar esign-sdk-2.1.0.jar\n</code></pre></p>"},{"location":"eSign-sdk-technical-documentation/#53-installation-on-different-operating-systems","title":"5.3 Installation on Different Operating Systems","text":""},{"location":"eSign-sdk-technical-documentation/#531-windows-server-installation","title":"5.3.1 Windows Server Installation","text":"<p>Step 1: Install Java 17 <pre><code># Download from https://adoptium.net/\n# Or use Chocolatey:\nchoco install openjdk17\n</code></pre></p> <p>Step 2: Create Installation Directory <pre><code>mkdir C:\\esign-sdk\ncd C:\\esign-sdk\n</code></pre></p> <p>Step 3: Copy Files <pre><code># Copy esign-sdk-2.1.0.jar and application.properties\n# Create config folder\nmkdir config\n# Copy license and certificate to config\\\n</code></pre></p> <p>Step 4: Run as Windows Service (Optional)</p> <p>Create <code>install-service.bat</code>: <pre><code>@echo off\nsc create \"eSignSDK\" binPath= \"C:\\esign-sdk\\run-service.bat\" start= auto\nsc description \"eSignSDK\" \"eSign Digital Signature Service\"\nsc start \"eSignSDK\"\n</code></pre></p> <p>Create <code>run-service.bat</code>: <pre><code>@echo off\ncd C:\\esign-sdk\njava -jar esign-sdk-2.1.0.jar\n</code></pre></p> <p>Step 5: Configure Firewall <pre><code>netsh advfirewall firewall add rule name=\"eSign SDK\" dir=in action=allow protocol=TCP localport=8080\n</code></pre></p>"},{"location":"eSign-sdk-technical-documentation/#532-linux-ubuntudebian-installation","title":"5.3.2 Linux (Ubuntu/Debian) Installation","text":"<p>Step 1: Install Java 17 <pre><code>sudo apt update\nsudo apt install openjdk-17-jdk -y\n</code></pre></p> <p>Step 2: Create Installation Directory <pre><code>sudo mkdir -p /opt/esign-sdk\ncd /opt/esign-sdk\n</code></pre></p> <p>Step 3: Copy Files <pre><code># Copy JAR and properties file\nsudo cp esign-sdk-2.1.0.jar /opt/esign-sdk/\nsudo cp application.properties /opt/esign-sdk/\n\n# Create directories\nsudo mkdir -p /opt/esign-sdk/config\nsudo mkdir -p /opt/esign-sdk/temp\nsudo mkdir -p /opt/esign-sdk/signed\n\n# Copy license and certificate\nsudo cp eSignLicense /opt/esign-sdk/config/\nsudo cp privatekey.pfx /opt/esign-sdk/config/\n</code></pre></p> <p>Step 4: Create Systemd Service</p> <p>Create <code>/etc/systemd/system/esign-sdk.service</code>: <pre><code>[Unit]\nDescription=eSign SDK Service\nAfter=network.target\n\n[Service]\nType=simple\nUser=esign\nWorkingDirectory=/opt/esign-sdk\nExecStart=/usr/bin/java -jar /opt/esign-sdk/esign-sdk-2.1.0.jar\nRestart=on-failure\nRestartSec=10\n\n[Install]\nWantedBy=multi-user.target\n</code></pre></p> <p>Step 5: Create Service User <pre><code>sudo useradd -r -s /bin/false esign\nsudo chown -R esign:esign /opt/esign-sdk\n</code></pre></p> <p>Step 6: Enable and Start Service <pre><code>sudo systemctl daemon-reload\nsudo systemctl enable esign-sdk\nsudo systemctl start esign-sdk\nsudo systemctl status esign-sdk\n</code></pre></p> <p>Step 7: Configure Firewall (UFW) <pre><code>sudo ufw allow 8080/tcp\nsudo ufw reload\n</code></pre></p>"},{"location":"eSign-sdk-technical-documentation/#533-linux-centosrhel-installation","title":"5.3.3 Linux (CentOS/RHEL) Installation","text":"<p>Step 1: Install Java 17 <pre><code>sudo yum install java-17-openjdk java-17-openjdk-devel -y\n</code></pre></p> <p>Step 2-6: Same as Ubuntu (use <code>/opt/esign-sdk</code>)</p> <p>Step 7: Configure Firewall (firewalld) <pre><code>sudo firewall-cmd --permanent --add-port=8080/tcp\nsudo firewall-cmd --reload\n</code></pre></p>"},{"location":"eSign-sdk-technical-documentation/#534-docker-installation-all-platforms","title":"5.3.4 Docker Installation (All Platforms)","text":"<p>Step 1: Create Dockerfile <pre><code>FROM openjdk:17-jdk-slim\n\nWORKDIR /app\n\n# Copy application files\nCOPY esign-sdk-2.1.0.jar /app/\nCOPY application.properties /app/\nCOPY config/ /app/config/\n\n# Create directories\nRUN mkdir -p /app/temp /app/signed\n\n# Expose port\nEXPOSE 8080\n\n# Run application\nCMD [\"java\", \"-jar\", \"esign-sdk-2.1.0.jar\"]\n</code></pre></p> <p>Step 2: Build Docker Image <pre><code>docker build -t esign-sdk:2.1.0 .\n</code></pre></p> <p>Step 3: Run Container <pre><code>docker run -d \\\n  --name esign-sdk \\\n  -p 8080:8080 \\\n  -v $(pwd)/config:/app/config \\\n  -v $(pwd)/temp:/app/temp \\\n  -v $(pwd)/signed:/app/signed \\\n  esign-sdk:2.1.0\n</code></pre></p> <p>Step 4: View Logs <pre><code>docker logs -f esign-sdk\n</code></pre></p>"},{"location":"eSign-sdk-technical-documentation/#54-post-installation-verification","title":"5.4 Post-Installation Verification","text":"<p>Step 1: Check Application Logs <pre><code>========================================\n  eSign SDK Started Successfully!\n========================================\n  Open: http://localhost:8080\n========================================\n</code></pre></p> <p>Step 2: Test API Endpoint <pre><code>curl http://localhost:8080/api/esign/set-mode \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"mode\":\"2.1\"}'\n</code></pre></p> <p>Expected response: <pre><code>{\n  \"success\": true,\n  \"mode\": \"2.1\",\n  \"modeName\": \"OTP-based Signing\",\n  \"message\": \"eSign mode set to 2.1\"\n}\n</code></pre></p> <p>Step 3: Access Web Interface Open browser: <code>http://localhost:8080</code></p>"},{"location":"eSign-sdk-technical-documentation/#55-troubleshooting-installation","title":"5.5 Troubleshooting Installation","text":"Issue Solution Port 8080 already in use Change port in <code>application.properties</code>: <code>server.port=8081</code> Java version error Ensure Java 17+ is installed: <code>java -version</code> License file not found Check path in <code>application.properties</code>: <code>esign.license.path</code> Certificate error Verify <code>.pfx</code> file path and password in properties Permission denied (Linux) Run with sudo or fix ownership: <code>sudo chown -R esign:esign /opt/esign-sdk</code>"},{"location":"eSign-sdk-technical-documentation/#6-configuration-reference","title":"6. Configuration Reference","text":""},{"location":"eSign-sdk-technical-documentation/#61-configuration-file-location","title":"6.1 Configuration File Location","text":"<p>The application reads configuration from <code>application.properties</code> located in: 1. Classpath (inside JAR): <code>src/main/resources/application.properties</code> 2. Working directory: <code>./application.properties</code> (overrides classpath) 3. Custom location: Specify with <code>--spring.config.location</code></p>"},{"location":"eSign-sdk-technical-documentation/#62-complete-configuration-reference","title":"6.2 Complete Configuration Reference","text":"<pre><code># ========================================\n# Server Configuration\n# ========================================\nserver.port=8080\n# Port on which the application runs\n# Default: 8080\n# Change if port is already in use\n\n# ========================================\n# eSign 2.1 (OTP-based) Configuration\n# ========================================\nesign.2_1.esp.url=https://demo.esign.digital/esign/2.1/signdoc/\n# ESP endpoint for eSign 2.1\n# Demo: https://demo.esign.digital/esign/2.1/signdoc/\n# Production: https://esp.esign.digital/esign/2.1/signdoc/\n\nesign.2_1.response.url=https://your-domain.com/api/esign/esp-response\n# Callback URL where ESP sends signed response\n# MUST be publicly accessible\n# Use ngrok for local testing: https://xxx.ngrok-free.dev/api/esign/esp-response\n\n# ========================================\n# eSign 3.2 (eKYC-based) Configuration\n# ========================================\nesign.3_2.esp.url=https://demo.esign.digital/esign/3.2/signdoc/\n# ESP endpoint for eSign 3.2\n# Demo: https://demo.esign.digital/esign/3.2/signdoc/\n# Production: https://esp.esign.digital/esign/3.2/signdoc/\n\nesign.3_2.response.url=https://your-domain.com/api/esign/3.2/getdocs/\n# Callback URL where ESP POSTs signed documents\n# MUST be publicly accessible\n\nesign.3_2.redirect.url=https://your-domain.com/api/esign/3.2/callback/\n# Redirect URL where user is sent after signing\n# MUST be publicly accessible\n\nesign.3_2.signer.id=your-signer-id@username.YourASP\n# Signer identifier for eSign 3.2\n# Format: username@identifier.ASPName\n# Obtain from your ESP provider\n\n# ========================================\n# Common Configuration\n# ========================================\nesign.asp.id=your-asp-id\n# Application Service Provider ID\n# Obtain from your eSign license\n\nesign.ekyc.id=\n# eKYC ID (optional, for eSign 3.2)\n# Leave empty if not using eKYC mode\n\nesign.license.path=./config/eSignLicense\n# Path to eSign license file\n# Relative or absolute path\n\nesign.certificate.path=./config/privatekey.pfx\n# Path to ASP certificate (.pfx file)\n# Used for signing XML requests\n\nesign.certificate.password=your-password\n# Password for the .pfx certificate file\n\nesign.temp.path=./temp/\n# Directory for temporary files\n# Auto-created if doesn't exist\n\nesign.output.path=./signed/\n# Directory for signed PDF output\n# Auto-created if doesn't exist\n\nesign.base.url=http://localhost:8080\n# Base URL of this application\n# Used for generating document URLs in eSign 3.2\n# Change to your public domain in production\n\n# ========================================\n# File Upload Configuration\n# ========================================\nspring.servlet.multipart.max-file-size=50MB\n# Maximum size for uploaded PDF files\n\nspring.servlet.multipart.max-request-size=50MB\n# Maximum size for HTTP requests\n</code></pre>"},{"location":"eSign-sdk-technical-documentation/#63-environment-specific-configuration","title":"6.3 Environment-Specific Configuration","text":""},{"location":"eSign-sdk-technical-documentation/#development-environment","title":"Development Environment","text":"<pre><code>server.port=8080\nesign.2_1.esp.url=https://demo.esign.digital/esign/2.1/signdoc/\nesign.2_1.response.url=https://xxx.ngrok-free.dev/api/esign/esp-response\nesign.base.url=http://localhost:8080\n</code></pre>"},{"location":"eSign-sdk-technical-documentation/#production-environment","title":"Production Environment","text":"<pre><code>server.port=80\nesign.2_1.esp.url=https://esp.esign.digital/esign/2.1/signdoc/\nesign.2_1.response.url=https://your-production-domain.com/api/esign/esp-response\nesign.base.url=https://your-production-domain.com\n</code></pre>"},{"location":"eSign-sdk-technical-documentation/#64-configuration-validation","title":"6.4 Configuration Validation","text":"<p>The application validates configuration on startup: - License file exists and is readable - Certificate file exists and password is correct - Temp and output directories are writable - ESP URLs are valid</p>"},{"location":"eSign-sdk-technical-documentation/#7-api-documentation","title":"7. API Documentation","text":""},{"location":"eSign-sdk-technical-documentation/#71-api-overview","title":"7.1 API Overview","text":"<p>Base URL: <code>http://localhost:8080/api/esign</code> Content-Type: <code>application/json</code> Authentication: Session-based (cookies)</p>"},{"location":"eSign-sdk-technical-documentation/#72-api-endpoints-summary","title":"7.2 API Endpoints Summary","text":"Endpoint Method Purpose <code>/set-mode</code> POST Set eSign mode (2.1 or 3.2) <code>/documents/{id}.pdf</code> GET Serve PDF documents <code>/step1/upload</code> POST Upload PDF for signing <code>/step2/signer-details</code> POST Set signer information <code>/step3/generate-hash</code> POST Generate document hash <code>/step4/convert-hex</code> POST Convert hash to hex <code>/step5/generate-txn</code> POST Generate transaction ID <code>/step6/construct-xml</code> POST Construct XML request <code>/step7/sign-xml</code> POST Sign XML with certificate <code>/step8/generate-esp-form</code> POST Generate ESP redirect form <code>/esp-response</code> POST ESP callback (eSign 2.1) <code>/3.2/getdocs/</code> POST ESP callback (eSign 3.2) <code>/3.2/callback/</code> GET/POST User redirect (eSign 3.2) <code>/esp-response-data</code> GET Get ESP response data <code>/embed-signature</code> POST Embed signature into PDF <code>/step9/embed-signature</code> POST Step 9: Embed signature <code>/config</code> GET Get configuration <code>/reset</code> POST Reset session"},{"location":"esign-api-guide/","title":"eSign API Integration Guide","text":""},{"location":"esign-api-guide/#overview","title":"Overview","text":"<p>The eSign API provides a REST interface for digitally signing PDF documents using Aadhaar-based authentication. The API supports both eSign 2.1 (OTP-based) and eSign 3.2 (eKYC-based) signing modes.</p> <p>Base URL: <code>https://your-domain.com/api/v1/esign</code></p> <p>Supported Formats: XML (default) and JSON</p>"},{"location":"esign-api-guide/#table-of-contents","title":"Table of Contents","text":"<ol> <li>Authentication</li> <li>Sign Document Endpoint</li> <li>Request Parameters</li> <li>Signing Options</li> <li>Multi-Page Signing</li> <li>Response Format</li> <li>Retrieve Signed Document</li> <li>Check Transaction Status</li> <li>Webhook Callbacks</li> <li>Error Codes</li> <li>Complete Examples</li> </ol>"},{"location":"esign-api-guide/#1-authentication","title":"1. Authentication","text":"<p>All requests must include authentication credentials in the <code>auth</code> block.</p> Field Type Required Description <code>command</code> String Yes Must be <code>\"esign\"</code> <code>token</code> String Yes Your API authentication token <code>key</code> String Yes Your API key"},{"location":"esign-api-guide/#2-sign-document-endpoint","title":"2. Sign Document Endpoint","text":""},{"location":"esign-api-guide/#post-apiv1esign","title":"POST <code>/api/v1/esign</code>","text":"<p>Initiates a document signing request.</p> <p>Headers:</p> Header Value Description <code>Content-Type</code> <code>application/xml</code> or <code>application/json</code> Request format <code>Accept</code> <code>application/xml</code> or <code>application/json</code> Response format"},{"location":"esign-api-guide/#3-request-parameters","title":"3. Request Parameters","text":""},{"location":"esign-api-guide/#xml-format","title":"XML Format","text":"<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;request&gt;\n    &lt;auth&gt;\n        &lt;command&gt;esign&lt;/command&gt;\n        &lt;token&gt;your-api-token&lt;/token&gt;\n        &lt;key&gt;your-api-key&lt;/key&gt;\n    &lt;/auth&gt;\n    &lt;parameter&gt;\n        &lt;uploadpdf&gt;\n            &lt;pdf64&gt;BASE64_ENCODED_PDF_CONTENT&lt;/pdf64&gt;\n            &lt;title&gt;Document Title&lt;/title&gt;\n            &lt;mode&gt;online-aadhaar-otp&lt;/mode&gt;\n            &lt;txn&gt;CLIENT_TRANSACTION_ID&lt;/txn&gt;\n            &lt;signername&gt;Signer Name&lt;/signername&gt;\n            &lt;callbackurl&gt;https://your-callback-url.com/webhook&lt;/callbackurl&gt;\n            &lt;option&gt;\n                &lt;cood&gt;350,50,550,120&lt;/cood&gt;\n                &lt;pagenum&gt;all&lt;/pagenum&gt;\n                &lt;reason&gt;Digital Signature&lt;/reason&gt;\n                &lt;location&gt;India&lt;/location&gt;\n            &lt;/option&gt;\n        &lt;/uploadpdf&gt;\n    &lt;/parameter&gt;\n&lt;/request&gt;\n</code></pre>"},{"location":"esign-api-guide/#json-format","title":"JSON Format","text":"<pre><code>{\n    \"auth\": {\n        \"command\": \"esign\",\n        \"token\": \"your-api-token\",\n        \"key\": \"your-api-key\"\n    },\n    \"parameter\": {\n        \"uploadpdf\": {\n            \"pdf64\": \"BASE64_ENCODED_PDF_CONTENT\",\n            \"title\": \"Document Title\",\n            \"mode\": \"online-aadhaar-otp\",\n            \"txn\": \"CLIENT_TRANSACTION_ID\",\n            \"signername\": \"Signer Name\",\n            \"callbackurl\": \"https://your-callback-url.com/webhook\",\n            \"option\": {\n                \"cood\": \"350,50,550,120\",\n                \"pagenum\": \"all\",\n                \"reason\": \"Digital Signature\",\n                \"location\": \"India\"\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"esign-api-guide/#parameter-reference","title":"Parameter Reference","text":"Parameter Type Required Description <code>pdf64</code> String Yes Base64 encoded PDF document <code>pdfurl</code> String No Alternative: URL to fetch PDF from (instead of pdf64) <code>title</code> String Yes Document title (max 50 characters) <code>mode</code> String Yes Signing mode (see Modes) <code>txn</code> String No Your transaction ID for tracking <code>signername</code> String Yes Name of the signer <code>ekycid</code> String Conditional eKYC ID (required for <code>online-aadhaar-ekyc</code> mode) <code>callbackurl</code> String No Webhook URL for completion notification <code>option</code> Object No Signing options (see Options)"},{"location":"esign-api-guide/#signing-modes","title":"Signing Modes","text":"Mode Description Version <code>online-aadhaar-otp</code> OTP-based Aadhaar authentication eSign 2.1 <code>online-aadhaar-ekyc</code> eKYC-based Aadhaar authentication eSign 3.2"},{"location":"esign-api-guide/#4-signing-options","title":"4. Signing Options","text":"<p>The <code>option</code> block controls signature appearance and placement.</p> Option Type Default Description <code>cood</code> String <code>350,50,550,120</code> Signature box coordinates: <code>x1,y1,x2,y2</code> <code>pagenum</code> String <code>1</code> Page selection for signature (see Multi-Page) <code>reason</code> String <code>Digital Signature</code> Reason for signing <code>location</code> String <code>India</code> Signing location <code>customtext</code> String - Custom text to display in signature <code>greenticked</code> String <code>false</code> Show green checkmark: <code>true</code> or <code>false</code> <code>dateformat</code> String <code>dd-MM-yyyy HH:mm:ss</code> Date format in signature <code>enabletimestamp</code> String <code>false</code> Enable trusted timestamp <code>enableltv</code> String <code>false</code> Enable Long Term Validation <code>lockpdf</code> String <code>false</code> Lock PDF after signing"},{"location":"esign-api-guide/#coordinate-system","title":"Coordinate System","text":"<p>Coordinates define the signature box position on the PDF page:</p> <pre><code>(x1, y1) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502                     \u2502\n    \u2502   Signature Box     \u2502\n    \u2502                     \u2502\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 (x2, y2)\n</code></pre> <ul> <li>Origin (0,0): Bottom-left corner of the page</li> <li>Units: Points (1 point = 1/72 inch)</li> <li>Standard A4 page: 595 x 842 points</li> </ul> <p>Common Placements:</p> Position Coordinates Bottom-right <code>400,50,550,120</code> Bottom-left <code>50,50,200,120</code> Top-right <code>400,750,550,820</code> Center-bottom <code>200,50,400,120</code>"},{"location":"esign-api-guide/#5-multi-page-signing","title":"5. Multi-Page Signing","text":"<p>The <code>pagenum</code> option supports flexible page selection for adding signature fields.</p>"},{"location":"esign-api-guide/#supported-formats","title":"Supported Formats","text":"Value Description Example Result (5-page doc) <code>1</code> Single page Page 1 only <code>first</code> First page Page 1 <code>last</code> Last page Page 5 <code>all</code> All pages Pages 1, 2, 3, 4, 5 <code>1-3</code> Page range Pages 1, 2, 3 <code>1,3,5</code> Specific pages Pages 1, 3, 5 <code>2-4</code> Middle range Pages 2, 3, 4"},{"location":"esign-api-guide/#examples","title":"Examples","text":"<p>Sign all pages: <pre><code>&lt;option&gt;\n    &lt;pagenum&gt;all&lt;/pagenum&gt;\n&lt;/option&gt;\n</code></pre></p> <p>Sign first and last pages: <pre><code>&lt;option&gt;\n    &lt;pagenum&gt;1,5&lt;/pagenum&gt;\n&lt;/option&gt;\n</code></pre></p> <p>Sign pages 1 through 3: <pre><code>&lt;option&gt;\n    &lt;pagenum&gt;1-3&lt;/pagenum&gt;\n&lt;/option&gt;\n</code></pre></p>"},{"location":"esign-api-guide/#how-multi-page-works","title":"How Multi-Page Works","text":"<ol> <li>Primary signature is placed on the first selected page</li> <li>All other selected pages get signature fields linked to the same cryptographic signature</li> <li>All signature fields validate as a single signature in Adobe Reader</li> <li>The signature box appears at the same coordinates on each page</li> </ol>"},{"location":"esign-api-guide/#6-response-format","title":"6. Response Format","text":""},{"location":"esign-api-guide/#success-response","title":"Success Response","text":"<p>XML: <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;response&gt;\n    &lt;success&gt;OK&lt;/success&gt;\n    &lt;command&gt;esign&lt;/command&gt;\n    &lt;requestid&gt;1702819200123456789&lt;/requestid&gt;\n    &lt;date&gt;2024-12-17T10:30:00+05:30&lt;/date&gt;\n    &lt;responsedata&gt;\n        &lt;response&gt;\n            &lt;txn&gt;CLIENT_TRANSACTION_ID&lt;/txn&gt;\n            &lt;reference&gt;a1b2c3d4e5f6&lt;/reference&gt;\n            &lt;redirecturl&gt;https://api.example.com/api/v1/esign/redirect/a1b2c3d4e5f6&lt;/redirecturl&gt;\n            &lt;getsigneddocurl&gt;https://api.example.com/api/v1/esign/signed/a1b2c3d4e5f6&lt;/getsigneddocurl&gt;\n        &lt;/response&gt;\n    &lt;/responsedata&gt;\n&lt;/response&gt;\n</code></pre></p> <p>JSON: <pre><code>{\n    \"success\": \"OK\",\n    \"command\": \"esign\",\n    \"requestid\": \"1702819200123456789\",\n    \"date\": \"2024-12-17T10:30:00+05:30\",\n    \"responsedata\": {\n        \"response\": {\n            \"txn\": \"CLIENT_TRANSACTION_ID\",\n            \"reference\": \"a1b2c3d4e5f6\",\n            \"redirecturl\": \"https://api.example.com/api/v1/esign/redirect/a1b2c3d4e5f6\",\n            \"getsigneddocurl\": \"https://api.example.com/api/v1/esign/signed/a1b2c3d4e5f6\"\n        }\n    }\n}\n</code></pre></p>"},{"location":"esign-api-guide/#response-fields","title":"Response Fields","text":"Field Description <code>success</code> <code>OK</code> for success, <code>FAILED</code> for error <code>reference</code> Unique reference ID for tracking <code>txn</code> Your original transaction ID <code>redirecturl</code> URL to redirect user for Aadhaar authentication <code>getsigneddocurl</code> URL to retrieve signed document after completion"},{"location":"esign-api-guide/#error-response","title":"Error Response","text":"<p>XML: <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;response&gt;\n    &lt;success&gt;FAILED&lt;/success&gt;\n    &lt;command&gt;esign&lt;/command&gt;\n    &lt;requestid&gt;1702819200123456789&lt;/requestid&gt;\n    &lt;date&gt;2024-12-17T10:30:00+05:30&lt;/date&gt;\n    &lt;e&gt;\n        &lt;code&gt;AUTH_001&lt;/code&gt;\n        &lt;message&gt;Invalid authentication token&lt;/message&gt;\n    &lt;/e&gt;\n&lt;/response&gt;\n</code></pre></p>"},{"location":"esign-api-guide/#7-retrieve-signed-document","title":"7. Retrieve Signed Document","text":"<p>After signing is complete, retrieve the signed PDF using these endpoints.</p>"},{"location":"esign-api-guide/#get-apiv1esigndocumentreference","title":"GET <code>/api/v1/esign/document/{reference}</code>","text":"<p>Returns the signed PDF file directly.</p> <p>Response: - Content-Type: <code>application/pdf</code> - Body: Binary PDF data</p> <p>HTTP Status Codes:</p> Status Description 200 Success - PDF returned 202 Accepted - Signing still in progress 404 Not found - Invalid reference 410 Gone - Signing failed"},{"location":"esign-api-guide/#get-apiv1esignsignedreference","title":"GET <code>/api/v1/esign/signed/{reference}</code>","text":"<p>Returns signed document with metadata in XML/JSON format.</p> <p>Response (XML): <pre><code>&lt;response&gt;\n    &lt;success&gt;OK&lt;/success&gt;\n    &lt;command&gt;esign&lt;/command&gt;\n    &lt;responsedata&gt;\n        &lt;response&gt;\n            &lt;signpdf64&gt;BASE64_ENCODED_SIGNED_PDF&lt;/signpdf64&gt;\n            &lt;pdfurl&gt;https://api.example.com/api/v1/esign/document/a1b2c3d4e5f6&lt;/pdfurl&gt;\n            &lt;txn&gt;CLIENT_TRANSACTION_ID&lt;/txn&gt;\n            &lt;reference&gt;a1b2c3d4e5f6&lt;/reference&gt;\n        &lt;/response&gt;\n    &lt;/responsedata&gt;\n&lt;/response&gt;\n</code></pre></p>"},{"location":"esign-api-guide/#8-check-transaction-status","title":"8. Check Transaction Status","text":""},{"location":"esign-api-guide/#get-apiv1esignstatusreference","title":"GET <code>/api/v1/esign/status/{reference}</code>","text":"<p>Check the current status of a signing transaction.</p> <p>Response (XML): <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;statusresponse&gt;\n    &lt;reference&gt;a1b2c3d4e5f6&lt;/reference&gt;\n    &lt;txn&gt;CLIENT_TRANSACTION_ID&lt;/txn&gt;\n    &lt;status&gt;COMPLETED&lt;/status&gt;\n    &lt;signername&gt;John Doe&lt;/signername&gt;\n    &lt;createdat&gt;2024-12-17T10:30:00&lt;/createdat&gt;\n    &lt;updatedat&gt;2024-12-17T10:35:00&lt;/updatedat&gt;\n    &lt;completedat&gt;2024-12-17T10:35:00&lt;/completedat&gt;\n    &lt;getsigneddocurl&gt;https://api.example.com/api/v1/esign/signed/a1b2c3d4e5f6&lt;/getsigneddocurl&gt;\n&lt;/statusresponse&gt;\n</code></pre></p>"},{"location":"esign-api-guide/#status-values","title":"Status Values","text":"Status Description <code>PENDING</code> Request created, awaiting user action <code>PROCESSING</code> ESP response received, embedding signature <code>COMPLETED</code> Signing completed successfully <code>FAILED</code> Signing failed (check error details)"},{"location":"esign-api-guide/#9-webhook-callbacks","title":"9. Webhook Callbacks","text":"<p>If <code>callbackurl</code> is provided, a POST request is sent when signing completes or fails.</p>"},{"location":"esign-api-guide/#success-callback","title":"Success Callback","text":"<pre><code>&lt;callback&gt;\n    &lt;status&gt;COMPLETED&lt;/status&gt;\n    &lt;reference&gt;a1b2c3d4e5f6&lt;/reference&gt;\n    &lt;txn&gt;CLIENT_TRANSACTION_ID&lt;/txn&gt;\n    &lt;signername&gt;John Doe&lt;/signername&gt;\n    &lt;getsigneddocurl&gt;https://api.example.com/api/v1/esign/signed/a1b2c3d4e5f6&lt;/getsigneddocurl&gt;\n    &lt;completedat&gt;2024-12-17T10:35:00&lt;/completedat&gt;\n&lt;/callback&gt;\n</code></pre>"},{"location":"esign-api-guide/#failure-callback","title":"Failure Callback","text":"<pre><code>&lt;callback&gt;\n    &lt;status&gt;FAILED&lt;/status&gt;\n    &lt;reference&gt;a1b2c3d4e5f6&lt;/reference&gt;\n    &lt;txn&gt;CLIENT_TRANSACTION_ID&lt;/txn&gt;\n    &lt;error&gt;\n        &lt;code&gt;ESP_001&lt;/code&gt;\n        &lt;message&gt;User cancelled the signing process&lt;/message&gt;\n    &lt;/error&gt;\n&lt;/callback&gt;\n</code></pre>"},{"location":"esign-api-guide/#10-error-codes","title":"10. Error Codes","text":""},{"location":"esign-api-guide/#authentication-errors","title":"Authentication Errors","text":"Code Description <code>AUTH_001</code> Invalid or missing authentication token <code>AUTH_002</code> Invalid API key <code>AUTH_003</code> Token expired"},{"location":"esign-api-guide/#validation-errors","title":"Validation Errors","text":"Code Description <code>VAL_001</code> Missing required field <code>VAL_002</code> Invalid PDF data <code>VAL_003</code> Invalid mode specified <code>VAL_004</code> Invalid coordinates format <code>VAL_005</code> PDF exceeds size limit"},{"location":"esign-api-guide/#processing-errors","title":"Processing Errors","text":"Code Description <code>PROC_001</code> PDF data is required <code>PROC_002</code> Unsupported signing mode <code>PROC_003</code> Failed to generate eSign request <code>PROC_999</code> General processing error"},{"location":"esign-api-guide/#esp-errors","title":"ESP Errors","text":"Code Description <code>ESP_001</code> User cancelled signing <code>ESP_002</code> OTP verification failed <code>ESP_003</code> Aadhaar authentication failed <code>ESP_004</code> Session expired <code>ESP_911</code> ESP signature verification failed"},{"location":"esign-api-guide/#system-errors","title":"System Errors","text":"Code Description <code>SYS_001</code> Internal system error <code>SYS_002</code> Service temporarily unavailable"},{"location":"esign-api-guide/#11-complete-examples","title":"11. Complete Examples","text":""},{"location":"esign-api-guide/#example-1-simple-single-page-signing-otp-mode","title":"Example 1: Simple Single-Page Signing (OTP Mode)","text":"<p>Request: <pre><code>curl -X POST https://api.example.com/api/v1/esign \\\n  -H \"Content-Type: application/json\" \\\n  -H \"Accept: application/json\" \\\n  -d '{\n    \"auth\": {\n        \"command\": \"esign\",\n        \"token\": \"your-token\",\n        \"key\": \"your-key\"\n    },\n    \"parameter\": {\n        \"uploadpdf\": {\n            \"pdf64\": \"'$(base64 -w0 document.pdf)'\",\n            \"title\": \"Employment Contract\",\n            \"mode\": \"online-aadhaar-otp\",\n            \"txn\": \"TXN123456\",\n            \"signername\": \"Rahul Sharma\",\n            \"callbackurl\": \"https://myapp.com/webhook/esign\"\n        }\n    }\n}'\n</code></pre></p>"},{"location":"esign-api-guide/#example-2-multi-page-signing-all-pages","title":"Example 2: Multi-Page Signing (All Pages)","text":"<p>Request (XML): <pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;request&gt;\n    &lt;auth&gt;\n        &lt;command&gt;esign&lt;/command&gt;\n        &lt;token&gt;your-token&lt;/token&gt;\n        &lt;key&gt;your-key&lt;/key&gt;\n    &lt;/auth&gt;\n    &lt;parameter&gt;\n        &lt;uploadpdf&gt;\n            &lt;pdf64&gt;JVBERi0xLjQKJe...&lt;/pdf64&gt;\n            &lt;title&gt;Multi-Page Agreement&lt;/title&gt;\n            &lt;mode&gt;online-aadhaar-otp&lt;/mode&gt;\n            &lt;txn&gt;TXN789012&lt;/txn&gt;\n            &lt;signername&gt;Priya Patel&lt;/signername&gt;\n            &lt;option&gt;\n                &lt;cood&gt;400,50,550,120&lt;/cood&gt;\n                &lt;pagenum&gt;all&lt;/pagenum&gt;\n                &lt;reason&gt;Agreement Acceptance&lt;/reason&gt;\n                &lt;location&gt;Mumbai, India&lt;/location&gt;\n            &lt;/option&gt;\n        &lt;/uploadpdf&gt;\n    &lt;/parameter&gt;\n&lt;/request&gt;\n</code></pre></p>"},{"location":"esign-api-guide/#example-3-ekyc-mode-esign-32","title":"Example 3: eKYC Mode (eSign 3.2)","text":"<p>Request (JSON): <pre><code>{\n    \"auth\": {\n        \"command\": \"esign\",\n        \"token\": \"your-token\",\n        \"key\": \"your-key\"\n    },\n    \"parameter\": {\n        \"uploadpdf\": {\n            \"pdf64\": \"JVBERi0xLjQKJe...\",\n            \"title\": \"KYC Document\",\n            \"mode\": \"online-aadhaar-ekyc\",\n            \"ekycid\": \"EKYC123456789\",\n            \"txn\": \"TXN345678\",\n            \"signername\": \"Amit Kumar\",\n            \"option\": {\n                \"cood\": \"350,700,500,770\",\n                \"pagenum\": \"first\",\n                \"reason\": \"KYC Verification\"\n            }\n        }\n    }\n}\n</code></pre></p>"},{"location":"esign-api-guide/#example-4-custom-page-selection","title":"Example 4: Custom Page Selection","text":"<p>Sign only pages 1, 3, and 5: <pre><code>{\n    \"parameter\": {\n        \"uploadpdf\": {\n            \"pdf64\": \"...\",\n            \"title\": \"Contract\",\n            \"mode\": \"online-aadhaar-otp\",\n            \"signername\": \"User\",\n            \"option\": {\n                \"pagenum\": \"1,3,5\"\n            }\n        }\n    }\n}\n</code></pre></p> <p>Sign pages 2 through 4: <pre><code>{\n    \"parameter\": {\n        \"uploadpdf\": {\n            \"pdf64\": \"...\",\n            \"title\": \"Contract\",\n            \"mode\": \"online-aadhaar-otp\",\n            \"signername\": \"User\",\n            \"option\": {\n                \"pagenum\": \"2-4\"\n            }\n        }\n    }\n}\n</code></pre></p>"},{"location":"esign-api-guide/#integration-flow","title":"Integration Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     1. POST /api/v1/esign      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Client    \u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6 \u2502  eSign API  \u2502\n\u2502 Application \u2502                                \u2502   Server    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502                                              \u2502\n       \u2502         2. Response with redirecturl         \u2502\n       \u2502 \u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 \u2502\n       \u2502                                              \u2502\n       \u2502    3. Redirect user to redirecturl           \u2502\n       \u25bc                                              \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                       \u2502\n\u2502    User     \u2502                                       \u2502\n\u2502   Browser   \u2502                                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                       \u2502\n       \u2502                                              \u2502\n       \u2502    4. Auto-redirect to ESP Portal            \u2502\n       \u25bc                                              \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                       \u2502\n\u2502     ESP     \u2502                                       \u2502\n\u2502   Portal    \u2502                                       \u2502\n\u2502  (Aadhaar)  \u2502                                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                       \u2502\n       \u2502                                              \u2502\n       \u2502    5. User completes OTP/eKYC                \u2502\n       \u2502                                              \u2502\n       \u2502    6. ESP callback with signature            \u2502\n       \u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6   \u2502\n       \u2502                                              \u2502\n       \u2502         7. Redirect to success page          \u2502\n       \u2502 \u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 \u2502\n       \u2502                                              \u2502\n       \u2502                      8. Webhook notification \u2502\n       \u2502                      (if callbackurl set)    \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 \u2502\n\u2502   Client    \u2502                                       \u2502\n\u2502   Server    \u2502                                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                       \u2502\n       \u2502                                              \u2502\n       \u2502    9. GET /api/v1/esign/document/{ref}       \u2502\n       \u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6   \u2502\n       \u2502                                              \u2502\n       \u2502         10. Signed PDF returned              \u2502\n       \u2502 \u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 \u2502\n</code></pre>"},{"location":"esign-api-guide/#best-practices","title":"Best Practices","text":"<ol> <li>Always store the <code>reference</code> - This is your key to retrieve the signed document</li> <li>Implement webhook callback - For real-time completion notifications</li> <li>Handle all status codes - Including 202 (still processing) when polling</li> <li>Use appropriate coordinates - Test signature placement with sample documents</li> <li>Set meaningful transaction IDs - Helps with tracking and debugging</li> <li>Validate PDF before sending - Ensure the PDF is not corrupted or password-protected</li> </ol>"},{"location":"esign-api-guide/#support","title":"Support","text":"<p>For technical support or questions, contact your integration team or refer to the SDK documentation.</p> <p>Version: 1.0 Last Updated: December 2025</p>"},{"location":"quick-start-guide/","title":"eSign SDK v2.1.0 - Quick Start Guide","text":"<p>Get started with eSign SDK in 5 minutes</p>"},{"location":"quick-start-guide/#prerequisites","title":"Prerequisites","text":"<ul> <li>[ ] Java 17+ installed</li> <li>[ ] eSign license file</li> <li>[ ] ASP certificate (.pfx file)</li> <li>[ ] Internet connection</li> </ul>"},{"location":"quick-start-guide/#installation-5-steps","title":"Installation (5 Steps)","text":""},{"location":"quick-start-guide/#step-1-extract-package","title":"Step 1: Extract Package","text":"<pre><code>unzip esign-sdk-2.1.0-dist.zip\ncd esign-sdk-2.1.0\n</code></pre>"},{"location":"quick-start-guide/#step-2-configure","title":"Step 2: Configure","text":"<p>Edit <code>application.properties</code>: <pre><code># Minimum required configuration\nesign.asp.id=your-asp-id\nesign.license.path=./config/eSignLicense\nesign.certificate.path=./config/privatekey.pfx\nesign.certificate.password=your-password\n\n# For local testing with ngrok\nesign.2_1.response.url=https://your-ngrok-url.ngrok-free.dev/api/esign/esp-response\n</code></pre></p>"},{"location":"quick-start-guide/#step-3-place-files","title":"Step 3: Place Files","text":"<pre><code>mkdir -p config\ncp /path/to/eSignLicense config/\ncp /path/to/privatekey.pfx config/\n</code></pre>"},{"location":"quick-start-guide/#step-4-run-application","title":"Step 4: Run Application","text":"<pre><code>java -jar esign-sdk-2.1.0.jar\n</code></pre>"},{"location":"quick-start-guide/#step-5-verify","title":"Step 5: Verify","text":"<p>Open browser: <code>http://localhost:8080</code></p>"},{"location":"quick-start-guide/#your-first-signing-web-ui","title":"Your First Signing (Web UI)","text":"<ol> <li>Open <code>http://localhost:8080</code> in browser</li> <li>Select Mode: Choose \"eSign 2.1 (OTP-based)\"</li> <li>Upload PDF: Click \"Choose File\" and select a PDF</li> <li>Enter Details:</li> <li>Signer Name: <code>John Doe</code></li> <li>Document Info: <code>Test Document</code></li> <li>Click \"Start Signing Process\"</li> <li>Follow Steps 1-8 in the UI</li> <li>Sign at ESP: Enter Aadhaar and OTP</li> <li>Download signed PDF</li> </ol>"},{"location":"quick-start-guide/#your-first-signing-api","title":"Your First Signing (API)","text":"<pre><code># 1. Set mode\ncurl -X POST http://localhost:8080/api/esign/set-mode \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"mode\":\"2.1\"}'\n\n# 2. Upload PDF\ncurl -X POST http://localhost:8080/api/esign/step1/upload \\\n  -F \"file=@test.pdf\"\n\n# 3. Set signer details\ncurl -X POST http://localhost:8080/api/esign/step2/signer-details \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"signerName\":\"John Doe\",\"docInfo\":\"Test Document\"}'\n\n# 4-8. Execute steps\nfor i in {3..8}; do\n  curl -X POST http://localhost:8080/api/esign/step$i/$(\n    case $i in\n      3) echo \"generate-hash\";;\n      4) echo \"convert-hex\";;\n      5) echo \"generate-txn\";;\n      6) echo \"construct-xml\";;\n      7) echo \"sign-xml\";;\n      8) echo \"generate-esp-form\";;\n    esac\n  )\ndone\n</code></pre>"},{"location":"quick-start-guide/#quick-troubleshooting","title":"Quick Troubleshooting","text":"Issue Solution Port 8080 in use Change <code>server.port=8081</code> in properties Java version error Install Java 17: <code>sudo apt install openjdk-17-jdk</code> License not found Check path: <code>ls -la config/eSignLicense</code> ESP callback fails Use ngrok: <code>ngrok http 8080</code>"},{"location":"quick-start-guide/#next-steps","title":"Next Steps","text":"<ul> <li>Read full Technical Documentation</li> <li>Configure for production</li> <li>Review Security Best Practices</li> <li>Contact support: support@www.esign.network</li> </ul>"},{"location":"quick-start-guide/#common-commands","title":"Common Commands","text":"<p>Start server: <pre><code>java -jar esign-sdk-2.1.0.jar\n</code></pre></p> <p>Start with custom config: <pre><code>java -jar esign-sdk-2.1.0.jar --spring.config.location=./custom.properties\n</code></pre></p> <p>Start with custom port: <pre><code>java -jar esign-sdk-2.1.0.jar --server.port=8081\n</code></pre></p> <p>Check logs: <pre><code>tail -f logs/esign-sdk.log\n</code></pre></p>"},{"location":"quick-start-guide/#support","title":"Support","text":"<ul> <li>Documentation: See full technical documentation</li> <li>Email: support@www.esign.network</li> <li>Website: https://www.esign.network/esign-sdk</li> </ul> <p>Ready to integrate? Check the API Reference Card for quick API lookup.</p>"}]}